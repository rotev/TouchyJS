(function(){function z(P,V,T,W,R){var U=V?V.ownerDocument:document;var O=U.createElement(P);if(T){for(var N in T){if(N=="style"){var Y=T[N];for(var Z in Y){O.style.setProperty(Z,Y[Z])}}else{O[N]=T[N]}}}if(W&&P=="script"){var Q=false;var X=function(){if(Q){return}Q=true;W()};O.onload=X;O.onreadystatechange=function(){if(this.readyState=="loaded"){X()}}}if(V){try{V.insertBefore(O,R)}catch(S){V.insertBefore(O)}}return O}function t(){var N={};(location.search||"").replace(/([^=^&^?]+)=([^&]*)/g,function(Q,P,O){N[P]=O});return N}function w(R,P,Q){var N=function(U,S,T){U[T]=function(){return S[T].apply(S,arguments)}};for(var O in Q){N(R,P,Q[O])}}function d(N){if(!N){return N}var P=N.length,R=[],Q={};while(P--){var O=N[P];if(!Q[O]){Q[O]=true;R.push(O)}}return R}function q(P,O){P=P||{};for(var N in O){P[N]=O[N]}return P}function A(P,N){var O=P.className;N=O!==""?" "+N:N;P.className+=N}function F(N){if(N.trim){return N.trim()}else{return N.replace(/^\s+|\s+$/g,"")}}var L=function(){function O(){if(/http:\/\/.+\.(loc)\.flyapps\.me\//.test(location.href)||/http:\/\/loc\.flyapps\.me\//.test(location.href)||/http:\/\/.+test\.flyapps\.me\//.test(location.href)){return E.DEBUG}else{if(/http:\/\/.+\.(stg|test)\.flyapps\.me\//.test(location.href)){return E.INFO}else{if(/http:\/\/.+\.flyapps\.me\//.test(location.href)){return E.ERROR}}}return E.DEBUG}function N(){var P=t()["doatloggeroutput"];if(P){switch(P){case"console":return E.consoleLogger;break;case"inline":return E.writeLogger;break;case"alert":return E.alertLogger;break;case"popup":return E.popupLogger;break;default:if(window[P]){return window[P]}}}return E.consoleLogger}return new E(O(),N())};function y(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=document}var P=arguments[0],O=arguments[1],N=arguments[2];if(typeof P.addEventListener!=="undefined"){P.addEventListener(O,N,false)}else{if(P.attachEvent){P.attachEvent("on"+O,N,false)}}}function l(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=document}var P=arguments[0],O=arguments[1],N=arguments[2];if(typeof P.removeEventListener!=="undefined"){P.removeEventListener(O,N,false)}else{if(P.detachEvent){P.detachEvent("on"+O,N)}}}var B=function(N,P){var O;for(O in P){if(typeof(N[O])=="undefined"){return false}}for(O in P){if(P[O]){switch(typeof(P[O])){case"object":if(!P[O].equals(N[O])){return false}break;case"function":if(typeof(N[O])=="undefined"||(O!="equals"&&P[O].toString()!=N[O].toString())){return false}break;default:if(P[O]!=N[O]){return false}}}else{if(N[O]){return false}}}for(O in N){if(typeof(P[O])=="undefined"){return false}}return true};function K(){var Q=[],N={},O=function(){return{error:"OK"}};this.bind=T;this.unbind=U;this.trigger=P;this.attach=S;this.setAuthFunc=R;y(window,"message",V);function V(W){var ab=O(W);if(ab.error==="OK"){var aa=JSON.parse(W.data);aa=q(aa,ab.attachData);var Y=Q[aa.msnEventType];if(Y){var ad={source:W.source,type:aa.msnEventType};delete aa.msnEventType;var ac=aa;for(var X=0;X<Y.length;X++){var Z=Y[X];Z(ad,ac)}}}}function T(Y,aa){Y=(Y instanceof Array)?Y:[Y];for(var W in Y){var Z=Y[W];var X=Q[Z];if(!X){Q[Z]=X=[]}X.push(aa)}}function U(Y,Z){if(!Z){Q[Y]=null}else{for(var W=Q[Y],X=W?W.length-1:-1;X>=0;--X){if(W[X]===Z){W.splice(X,1);return}}}}function P(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=window.parent}var X=arguments[0];var W=arguments[2]||{};W.msnEventType=arguments[1];W=q(W,N);X.postMessage(JSON.stringify(W),"*")}function S(W){N=W}function R(W){O=W}}function m(W,U){var S=a.Log||new L();var Q=new I();Q.load(S);if(U){var O=new o();O.load(S)}W.bind([a.Events.USER_ACTION,a.Events.PAGE_VIEW],V);W.bind([a.Events.WINDOW_LOADED,a.Events.RENDER_END],R);W.bind(a.Events.NO_RESULTS,N);W.bind([a.Events.RENDER_END,a.Events.NO_RESULTS],function(X,Y){W.unbind(a.Events.RENDER_END,R);if(O){O.report(X.type)}});W.bind(a.Events.SEARCH_ERROR,T);function N(X,Y){Q.report(["_trackEvent","Tracing",X.type,Y.query])}function T(X,Y){S.error("Error getting search results "+JSON.stringify(Y));N(X,Y)}function V(X,aa){var Z;switch(aa.action){case"Navigate":Z="/"+aa.to;Z+=(aa.title)?"/"+aa.title.replace("/","-"):"";break;case"Search":case"PageView":var Y=aa.newQuery||aa.query;aa.page=aa.page||"search";Z="/"+aa.page;Z+=(Y)?"/"+Y.replace("/","-"):"";break;default:return false}Q.report(["_trackPageview",Z]);return true}function R(X){var Y=-1;if(typeof doat_ts!=="undefined"){Y=new Date().getTime()-doat_ts}Q.report(["_trackEvent","Tracing",X.type,P(Y),Y])}function P(Y){var X;for(X=0;X<=5;X++){if(Y/1000<X){return"under "+X+" sec"}}return"over "+(X-1)+" sec"}}function I(){var N,P,O;if(/loc\.flyapps\.me/.test(location.host)){N="UA-16876190-2";P=".loc.flyapps.me"}else{if(/test\.flyapps\.me/.test(location.host)){N="UA-16876190-8";P=".test.flyapps.me"}else{if(/stg\.flyapps\.me/.test(location.host)){N="UA-16876190-7";P=".stg.flyapps.me"}else{if(/flyapps\.me/.test(location.host)){N="UA-16876190-4";P=".flyapps.me"}}}}this.report=function(R){try{_gaq.push(R);var S=(!_gaq.length)?"GA object":"temp array";O.info("Pushed event to _gaq ("+S+") -> "+JSON.stringify(R))}catch(Q){O.error("An error occured when performing _gaq.push ("+JSON.stringify(R)+")")}};this.load=function(R){O=R;var Q=(typeof doat_appName=="undefined")?location.host.split(".")[0]:doat_appName;_gaq=(typeof _gaq!=="undefined")?_gaq:[];_gaq.push(["_setAccount",N],["_setDomainName",P],["_setCustomVar",1,"appname",Q]);O.info('Loading GA for account "'+N+'" under domain "'+P+'" with appname "'+Q+'"');z("script",document.getElementsByTagName("HEAD")[0],{type:"text/javascript",src:(("https:"==document.location.protocol)?"https://ssl.":"http://www.")+"google-analytics.com/ga.js",async:"true"})}}function o(){var N;this.load=function(O){N=O};this.report=function(P,Q){var O="doatJS://report/"+P;N.info('Reporting to native app -> "'+O+'"')}}function E(S,O,Q){var R=E.WARN;var P=E.writeLogger;var N=false;this._isMobileBrowser=E.isMobileBrowser();this.setPrefix=function(T){if(T!="undefined"){N=T}else{N=false}};this.setLogger=function(V){if(V!="undefined"){P=V}if(V===E.writeLogger){var U=document.createElement("div");U.id="logger";U.style.backgroundColor="white";U.style.position="fixed";U.style.top="100px";U.style.left="0";U.style.zIndex="20";U.style.overflow="scroll";U.style.height="400px";document.body.appendChild(U);var T=document.createElement("a");T.innerHTML="clear";T.href="javascript://";T.addEventListener("click",function(){loggerList.innerHTML=""},false);U.appendChild(T);loggerList=document.createElement("ul");U.appendChild(loggerList)}};this.setLevel=function(T){if(T!="undefined"&&typeof T=="number"){R=T}else{if(T!="undefined"){if(T=="debug"){R=E.DEBUG}else{if(T=="info"){R=E.INFO}else{if(T=="error"){R=E.ERROR}else{if(T=="fatal"){R=E.FATAL}else{if(T=="warn"){R=E.WARN}else{R=E.NONE}}}}}}}};this.getPrefix=function(){return N};this.getLogger=function(){return P};this.getLevel=function(){return R};if(S!="undefined"){this.setLevel(S)}if(O!="undefined"){this.setLogger(O)}if(Q!="undefined"){this.setPrefix(Q)}}E.prototype.debug=function(){if(this.getLevel()<=E.DEBUG){this._log("DEBUG",this,arguments)}};E.prototype.info=function(){if(this.getLevel()<=E.INFO){this._log("INFO",this,arguments)}};E.prototype.warn=function(){if(this.getLevel()<=E.WARN){this._log("WARN",this,arguments)}};E.prototype.error=function(){if(this.getLevel()<=E.ERROR){this._log("ERROR",this,arguments)}};E.prototype.fatal=function(){if(this.getLevel()<=E.FATAL){this._log("FATAL",this,arguments)}};E.prototype._log=function(O,U,N){var Q=new Date();var W="";W+=((Q.getHours()<10)?"0"+Q.getHours():Q.getHours());W+=":"+((Q.getMinutes()<10)?"0"+Q.getMinutes():Q.getMinutes());W+=":"+((Q.getSeconds()<10)?"0"+Q.getSeconds():Q.getSeconds());W+="."+((Q.getMilliseconds()<100)?((Q.getMilliseconds()<10)?"00"+Q.getMilliseconds():"0"+Q.getMilliseconds()):Q.getMilliseconds());var P=[],R="("+W+")";if(this._isMobileBrowser){var S=R+" ";for(var T=0,V=N.length;T<V;T++){S+=" "+N[T]}P=[S]}else{P=["("+W+")"];for(T in N){P.push(N[T])}}this.getLogger()(O,U,P)};E.DEBUG=1;E.INFO=2;E.WARN=3;E.ERROR=4;E.FATAL=5;E.NONE=6;E.alertLogger=function(P,O,N){alert(P+" - "+N.join(" "))};E.writeLogger=function(R,Q,O){var N=document.createElement("li");N.innerHTML=R+"&nbsp;:&nbsp;"+O.join(" ");var P=loggerList.getElementsByTagName("li")[0];loggerList.insertBefore(N,P)};E.consoleLogger=function(Q,P,O){if(window.console){try{window.console[Q.toLowerCase()].apply(window.console,O)}catch(N){try{window.console[Q.toLowerCase()](O)}catch(N){window.console.log(Q+":"+O)}}}};E.popupLogger=function(U,R,P){var T=P.join(" ");if(R.popupBlocker){return}if(!R._window||!R._window.document){R._window=window.open("","logger_popup_window","width=420,height=320,scrollbars=1,status=0,toolbars=0,resizable=1");if(!R._window){R.popupBlocker=true;alert("You have a popup window manager blocking the log4js log popup display.\n\nThis must be disabled to properly see logged events.");return}if(!R._window.document.getElementById("loggerTable")){R._window.document.writeln("<table width='100%' id='loggerTable'><tr><th align='left'>Level</th><th width='100%' colspan='2' align='left'>Message</th></tr></table>");R._window.document.close()}}var Q=R._window.document.getElementById("loggerTable");var S=Q.insertRow(-1);var O=S.insertCell(-1);var N=S.insertCell(-1);O.style.fontSize="8pt";N.style.fontSize="8pt";N.style.whiteSpace="nowrap";N.style.width="100%";if(Q.rows.length%2==0){O.style.backgroundColor="#eeeeee";N.style.backgroundColor="#eeeeee"}O.innerHTML=U;N.innerHTML=T};E.dumpObject=function(R,N){if(!N){N=""}if(N.length>20){return}var P="{\n";for(var Q in R){P+=N+Q+":";var O=typeof(R[Q]);O=O.toLowerCase();if(O=="object"){P+=E.dumpObject(R[Q],N+"----")}else{P+=R[Q]}P+="\n"}P+=N+"}";return P};E.isMobileBrowser=function(O){!O&&(O=navigator.userAgent);O=O.toLowerCase();var N=/(iphone|ipad|android|symbian|webos|windows phone os)/.exec(O)||[];return N[1]};var u=function(){var T=this,P=navigator,R="everything",Q="extractor",O="extractor_config",S="sites",N;this.init=function(){var U=window[O]=window[O]||{};N=U[S]=U[S]||[]};this.set=function(V){!(V instanceof Array)&&(V=[V]);for(var U=0;U<V.length;U++){N.push(V[U])}};this.getItems=function(){var U=P[R][Q].getItems?P[R][Q].getItems():"NOT IMPLEMENTED";return U};T.init()};function f(){var Q="http://doatresizer.appspot.com/?url={src}&width={width}&height={height}&cache=short&crop={crop}&default={default}",P={searchbar:{type:"replace",html:'<form id="tml-searchbar-form" onsubmit="TouchyJS.Searchbar.submitFunc({onsubmit}); return false;" ><input type="text" data-defaulttext="{defaulttext}" onfocus="TouchyJS.Searchbar.clearValue(\'{defaulttext}\')" onblur="TouchyJS.Searchbar.fillValue(\'{defaulttext}\')" id="tml-searchbar-searchfield" name="searchfield" style="{style}" data-clearbutton={clearbutton}/></form>'},searcharea:{type:"replace",html:'<form id="tml-searchbar-form" onsubmit="TouchyJS.Searchbar.submitFunc({onsubmit}); return false;" ><textarea onfocus="TouchyJS.Searchbar.clearValue(\'{defaulttext}\')" onblur="TouchyJS.Searchbar.fillValue(\'{defaulttext}\')" id="tml-searchbar-searchfield" name="searchfield" style="{style}" clearbutton={clearbutton}>{defaulttext}</textarea></form>'},navigate:{type:"replace",html:'<a href="javascript://" class="{class}" onclick="TouchyJS.Navigation.goTo(\'{to}\')"><span>{label}</span></a>'},image:{type:"image",html:'<img src="'+Q+'" alt="{alt}" />'}},S="tml",T={autoinit:"false"};var R=/\{([^}]*)\}/g;var N=function(V,W){var U={};return W?(""+W).replace(R,function(X,Y){if(!U.hasOwnProperty(Y)){U[Y]=V.getAttribute(Y)?V.getAttribute(Y):T.hasOwnProperty(Y)?T[Y]:""}return U[Y]}):W};var O=function(U,W){if($(U).replaceWith){$(U).replaceWith($(W))}else{var V=$(W)[0];U.parentNode.replaceChild(V,U)}};this.parse=function(V){!V&&(V=document.body);for(var Y in P){if(P.hasOwnProperty(Y)){var U=S+":"+Y;var X=V.getElementsByTagName(U);for(var W=0;W<X.length;W++){var Z=N(X[W],P[Y].html);O(X[W],Z);W--}}}};this.getImage=function(U){var V=new function(W){this.getAttribute=function(X){return W[X]}}(U);return N(V,Q)}}function M(S){var W=this,V,T,O=S&&S.isTouch||("ontouchstart" in window);var P=function(Z){Z=(Z||navigator.userAgent).toLowerCase();V={};V.platform=U(Z);V.browser=Q(Z);V.os=Y(Z);V.orientation=R.getNew();V.screen=N.get(Z);V.connection=X.get()};var U=function(ab){var ac="",aa="",Z;Z=/(iphone|ipad)|(android|htc_)|(symbian)|(webos)|(blackberry|playbook|windows phone os)|(mobile;)/.exec(ab)||[,"desktop"];ac=Z[1]||Z[2]&&"android"||Z[3]&&"nokia"||Z[4]&&"hp"||Z[5]&&""||Z[6]&&"mozilla";return{name:ac,version:aa}};var Y=function(ab){var ac="",aa="",Z;Z=/(iphone|ipad)|(android|htc_)|(symbian|webos)|(blackberry|playbook)|(windows phone os)|(mobile;)/.exec(ab)||[];ac=Z[1]&&"ios"||Z[2]&&"android"||Z[3]||Z[4]&&"blackberry"||Z[5]&&"windowsphoneos"||Z[6]&&"firefoxos";if(!ac){Z=/(Win32)|(Linux)|(MacIntel)/.exec(navigator.platform)||[];ac=Z[1]&&"windows"||Z[2]||Z[3]&&"mac"||""}switch(ac){case"ios":aa=/os\s([\d_]+)\slike/.exec(ab);aa=aa[1].replace(/_/g,".");break;case"android":aa=/android\s([\d\.\-]+)[^;]*;/.exec(ab);aa=aa&&aa[1]&&aa[1].replace(/-/g,"");break}return{name:ac,version:aa}};var Q=function(ab){var ac,aa="",Z;ab=ab.toLowerCase();Z=/(webkit)(?:[\/]|.+fbforiphone)/.exec(ab)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(ab)||/(msie) ([\w.]+)/.exec(ab)||ab.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(ab)||[];ac=Z[1]||"";return{name:ac,version:aa}};this.getScreen=function(){return N.get()};this.setScreen=function(Z){return N.set(Z)};this.clearScreen=function(Z){return N.clear(Z)};this.setOrientation=function(Z){R.set(Z)};this.isTouch=function(){return O};this.isMobile=function(aa){var Z=W.getInfo(aa).platform.name;return S&&S.isTouch||/^(iphone|ipad|android|nokia|blackberry)$/.test(Z)};this.isRetina=function(){return window.devicePixelRatio>1};this.getInfo=function(){if(arguments[0]||!V){var Z=(arguments[0]===true)?undefined:arguments[0];P(Z)}return V};this.addEventListener=function(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=document}var Z=arguments[0],ag=arguments[1],ab=arguments[2],ae=O?"touchstart":"mousedown",af=O?"touchmove":"mousemove",ah=O?"touchend":"mouseup";switch(ag){case"orientationchange":R.onOrientationChange(ab);break;case"swipeX":y(Z,"swipeX",ab);break;case"touch":var ad,ac,aa=false;y(Z,ae,function(ai){ai=ai.originalEvent||ai;ad={type:"start",position:{x:ai.touches?ai.touches[0].pageX:ai.clientX,y:ai.touches?ai.touches[0].pageY:ai.clientY}};ab(ai,ad);aa=true});y(document,af,function(ai){if(!aa){return false}ai=ai.originalEvent||ai;ac={type:"move",position:{x:ai.touches?ai.touches[0].pageX:ai.clientX,y:ai.touches?ai.touches[0].pageY:ai.clientY}};ac.delta={x:ac.position.x-ad.position.x,y:ac.position.y-ad.position.y};ab(ai,ac)});y(document,ah,function(aj){aa=false;if(!ac||ac.delta.x===0&&ac.delta.y===0){return false}aj=aj.originalEvent||aj;var ai={type:"end",position:ac.position,delta:ac.delta,swipeEvent:true,direction:(ac.delta.x>0)?"ltr":"rtl"};ab(aj,ai);ac=undefined});break}};var R=new function(){var ai=this,Z,ah="orientation-",af=new RegExp(ah+"[^\\s]+","g"),ae=[],ac="orientation" in window;if(window.addEventListener){window.addEventListener((ac)?"orientationchange":"resize",ag,false);document.addEventListener("DOMContentLoaded",ag,false)}this.set=ag;this.getCurrent=function(){return Z||ai.getNew()};this.getOtherName=function(aj){return aj==="portrait"?"landscape":"portrait"};this.getNew=function(){var aj=(ac)?window.orientation:ai.getOrientationByWindowSize();return ad(aj)};this.getOrientationByWindowSize=function(){return(window.innerHeight>window.innerWidth)?0:90};this.onOrientationChange=function(aj){ae.push(aj)};function ag(ak){var aj=(ak&&!(ak.type))?ad(ak):ai.getNew();if(!Z||aj.degree!==Z.degree){Z=aj;aa();ab()}}function ab(){ae.forEach(function(aj){aj(Z)})}function ad(al){var aj,ak;if(typeof al==="String"){aj=al;ak=(al=="landscape")?90:0}else{ak=al;aj=(Math.abs(al)==90)?"landscape":"portrait"}return{name:aj,degree:ak}}function aa(){var aj=ah+Z.name;if(Z.degree==90){aj+=" "+ah+"landscape-right"}else{if(Z.degree==-90){aj+=" "+ah+"landscape-left"}}document.body.className=document.body.className.replace(af,"")+" "+aj}};R.onOrientationChange(function(){V.orientation=R.getCurrent();V.screen=N.get()});var N=new function(){var aa=this,Z;function ac(aj,ag){!aj&&(aj=navigator.userAgent);aj=aj.toLowerCase();var ad=U(aj).name;var ai=Y(aj).name;var ah=["","","",""];if(/^(iphone|ipod)$/.test(ad)){if((R.getCurrent().name=="portrait"&&window.screen.height==568)||(R.getCurrent().name=="landscape"&&window.screen.width==568)){var af=64,ae=53;ah=[320,568-af,568,320-ae]}else{ah=[320,416,480,267]}}else{if(ad=="desktop"){ah=[320,416,480,267]}else{if(ai=="android"){if(/nexus s/.test(aj)){ah=[320,508,508,295]}else{if(/gt-9000/.test(aj)){ah=[320,508,508,320]}else{if(/sonyericssonr800a/.test(aj)){ah=[320,544,544,320]}else{if(/htc desire s/.test(aj)){ah=[320,533,533,320]}}}}}else{if(ai=="windowsphoneos"){ah=[295,486,"",""]}}}}Z={portrait:{width:ah[0],height:ah[1]},landscape:{width:ah[2],height:ah[3]}}}function ab(ae){var ad;if(window.innerWidth<=window.outerWidth&&window.innerWidth!==Z[R.getOtherName(ae)].width){ad=window.innerWidth}return ad}this.set=function(af){for(var ad in af){for(var ae in af[ad]){Z[ad][ae]=af[ad][ae]}}};this.get=function(ae){var ad=R.getCurrent().name;if(ae||!Z){ac(ae)}!Z[ad].width&&(Z[ad].width=ab(ad));return Z[ad]};this.clear=function(ad){var ae={};ae[ad]={height:"",width:""};aa.set(ae)}};var X=new function(){var ae=this,aa,ac={SPEED_UNKNOWN:100,SPEED_HIGH:30,SPEED_MED:20,SPEED_LOW:10},ab=[{name:undefined,speed:ac.SPEED_UNKNOWN},{name:"etherenet",speed:ac.SPEED_HIGH},{name:"wifi",speed:ac.SPEED_HIGH},{name:"2g",speed:ac.SPEED_LOW},{name:"3g",speed:ac.SPEED_MED}];this.get=function(){return Z()};this.set=function(af){aa=af||(navigator.connection&&navigator.connection.type)||0;return Z()};function Z(){return ad({},ac,ab[aa])}function ad(){var ag=arguments[0];for(var ai=1,af=arguments.length;ai<af;ai++){for(var ah in arguments[ai]){ag[ah]=arguments[ai][ah]}}return ag}ae.set()}}(function(){var T,P,Q="doat_onLocationRetrieved_"+new Date().getTime(),N=(typeof a!="undefined"&&a&&a.Log)||new L();M.prototype.getLocation=function(ac,X){T=ac;if(!X||!X.testProps){if(X&&X.request){N.info("Specific params requested for location",X.request);var Y=t(),U={},ab=false,Z=false,W=(X.request.constructor===String)?[X.request]:X.request;for(var V=0;V<W.length;V++){var aa="do_loc_"+W[V];if(Y[aa]){U[W[V]]=decodeURIComponent(Y[aa]);N.info("found "+aa);Z=true}else{N.info("could not find "+W[V]+" in querystring");ab=true;if(!X.allowOneFound){break}}}if(!ab||(X.allowOneFound&&Z)){N.info("found required location data in querystring");T(O(U));return true}else{N.info("Couldnt find required location data in querystring")}}if(this.isMobile()){navigator.geolocation.getCurrentPosition(function(ad){S(ad)},function(ad){T(ad)})}else{R(null,"http://geoip.pidgets.com/")}}else{if(X&&X.testProps&&X.testProps.position){S(X.testProps.position)}}};window[Q]=function(U){U=O(U);T(U)};function S(U){var V="select * from geo.places where woeid in (select place.woeid from flickr.places where lat="+U.coords.latitude+" and  lon="+U.coords.longitude+")";R(V);P=U}function R(Y,V){if(document.getElementById("doatenvlocationdata")){var U=document.getElementById("doatenvlocationdata");U.parentNode.removeChild(U)}var Z=(V)?V+"?":"http://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent(Y)+"&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys";Z+="&format=json&callback="+Q;var W=document.getElementsByTagName("head")[0];var X=document.createElement("script");X.setAttribute("id","doatenvlocationdata");X.setAttribute("src",Z);W.appendChild(X)}function O(V){var U={};if(V){if(V.latitude&&V.longitude){V.lat=V.latitude;V.lon=V.longitude}if(V.lat&&V.lon){U.position={coords:{latitude:V.lat,longitude:V.lon}}}if(V.query){if(V.query.results&&V.query.results.place){var W=V.query.results.place;U.city=W.locality1&&W.locality1.content;U.country=W.country&&W.country.content;U.zip=W.postal&&W.postal.content}}else{if(V.country_name){U.city=V.city;U.country=V.country_name}else{q(U,V)}}}if(!U.position&&P){U.position=P;P=undefined}return U}})();var H=function(){var N=this,P={};this.addEventListener=function(S,Q){var R=P[S];if(!R){P[S]={callbacks:[],enabled:false};R=P[S]}R.callbacks.push(Q);if(R.enabled&&R.callOnce){O(Q)}};this.dispatchEvent=function(U,S){var R=P[U];if(!R){P[U]={callbacks:[],enabled:true};R=P[U]}else{var Q=R.callbacks.length;for(var T=0;T<Q;++T){O(R.callbacks[T])}}if(S){q(R,S)}};var O=function(Q){Q()};this.ready=function(Q){N.addEventListener("ready",Q)};this.focused=function(Q){N.addEventListener("focused",Q)};this.blurred=function(Q){N.addEventListener("blurred",Q)};this.hidden=function(Q){N.addEventListener("hidden",Q)};this.visible=function(Q){N.addEventListener("visible",Q)};this.NO_RESULTS="no results";this.RENDER_START="render start";this.RENDER_END="render end";this.RENDER_VISIBLE_END="render visible end";this.SEARCH_START="search request";this.SEARCH_END="search response success";this.SEARCH_ERROR="search response error";this.WINDOW_LOADED="window loaded";this.DOAT_READY="doat ready";this.DOCUMENT_READY="document ready";this.USER_ACTION="user action";this.PAGE_VIEW="page view";this.ready(function(){P.ready.enabled=true});this.focused(function(){P.focused.enabled=true;P.visible.enabled=P.hidden.enabled=P.blurred.enabled=false});this.visible(function(){P.visible.enabled=true;P.focused.enabled=P.hidden.enabled=P.blurred.enabled=false});this.hidden(function(){P.hidden.enabled=true;P.focused.enabled=P.visible.enabled=P.blurred.enabled=false});this.blurred(function(){P.blurred.enabled=true;P.focused.enabled=P.visible.enabled=P.hidden.enabled=false})};!function(V,X,N){var R=["webkit","Moz","ms","O"],ac={},ab;function T(ad,ag){var ae=X.createElement(ad||"div"),af;for(af in ag){ae[af]=ag[af]}return ae}function U(ae){for(var ad=1,af=arguments.length;ad<af;ad++){ae.appendChild(arguments[ad])}return ae}var W=function(){var ad=T("style",{type:"text/css"});U(X.getElementsByTagName("head")[0],ad);return ad.sheet||ad.styleSheet}();function P(ah,ad,ai,al){var ae=["opacity",ad,~~(ah*100),ai,al].join("-"),af=0.01+ai/al*100,ak=Math.max(1-(1-ah)/ad*(100-af),ah),aj=ab.substring(0,ab.indexOf("Animation")).toLowerCase(),ag=aj&&"-"+aj+"-"||"";if(!ac[ae]){W.insertRule("@"+ag+"keyframes "+ae+"{0%{opacity:"+ak+"}"+af+"%{opacity:"+ah+"}"+(af+0.01)+"%{opacity:1}"+(af+ad)%100+"%{opacity:"+ah+"}100%{opacity:"+ak+"}}",W.cssRules.length);ac[ae]=1}return ae}function aa(ag,ah){var af=ag.style,ad,ae;if(af[ah]!==N){return ah}ah=ah.charAt(0).toUpperCase()+ah.slice(1);for(ae=0;ae<R.length;ae++){ad=R[ae]+ah;if(af[ad]!==N){return ad}}}function S(ad,af){for(var ae in af){ad.style[aa(ad,ae)||ae]=af[ae]}return ad}function Z(af){for(var ad=1;ad<arguments.length;ad++){var ae=arguments[ad];for(var ag in ae){if(af[ag]===N){af[ag]=ae[ag]}}}return af}function Y(ad){var ae={x:ad.offsetLeft,y:ad.offsetTop};while((ad=ad.offsetParent)){ae.x+=ad.offsetLeft,ae.y+=ad.offsetTop}return ae}var Q={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto",position:"relative",animations:true};var O=function O(ad){if(!this.spin){return new O(ad)}this.opts=Z(ad||{},O.defaults,Q)};O.defaults={};Z(O.prototype,{spin:function(ak){this.stop();var ao=this,ad=ao.opts,ae=ao.el=S(T(0,{className:ad.className}),{position:ad.position,width:0,zIndex:ad.zIndex}),an=ad.radius+ad.length+ad.width,ap,am;if(ak){ak.insertBefore(ae,ak.firstChild||null);am=Y(ak);ap=Y(ae);S(ae,{left:(ad.left=="auto"?am.x-ap.x+(ak.offsetWidth>>1):parseInt(ad.left,10)+an)+"px",top:(ad.top=="auto"?am.y-ap.y+(ak.offsetHeight>>1):parseInt(ad.top,10)+an)+"px"})}ae.setAttribute("aria-role","progressbar");ao.lines(ae,ao.opts);if(!ab&&this.opts.animations){var ah=0,af=ad.fps,aj=af/ad.speed,ai=(1-ad.opacity)/(aj*ad.trail/100),al=aj/ad.lines;(function ag(){ah++;for(var aq=ad.lines;aq;aq--){var ar=Math.max(1-(ah+aq*al)%aj*ai,ad.opacity);ao.opacity(ae,ad.lines-aq,ar,ad)}ao.timeout=ao.el&&setTimeout(ag,~~(1000/af))})()}return ao},stop:function(){var ad=this.el;if(ad){clearTimeout(this.timeout);if(ad.parentNode){ad.parentNode.removeChild(ad)}this.el=N}return this},lines:function(ag,ai){var af=0,ad;function ah(aj,ak){return S(T(),{position:"absolute",width:(ai.length+ai.width)+"px",height:ai.width+"px",background:aj,boxShadow:ak,transformOrigin:"left",transform:"rotate("+~~(360/ai.lines*af+ai.rotate)+"deg) translate("+ai.radius+"px,0)",borderRadius:(ai.corners*ai.width>>1)+"px"})}var ae={};for(;af<ai.lines;af++){ae={position:"absolute",top:1+~(ai.width/2)+"px",transform:ai.hwaccel?"translate3d(0,0,0)":"",opacity:ai.opacity};if(this.opts.animations){ae.animation=ab&&P(ai.opacity,ai.trail,af,ai.lines)+" "+1/ai.speed+"s linear infinite"}ad=S(T(),ae);if(ai.shadow){U(ad,S(ah("#000","0 0 4px #000"),{top:2+"px"}))}U(ag,U(ad,ah(ai.color,"0 0 1px rgba(0,0,0,.1)")))}return ag},opacity:function(ae,ad,af){if(ad<ae.childNodes.length){ae.childNodes[ad].style.opacity=af}}});(function(){function ad(ag,af){return T("<"+ag+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',af)}var ae=S(T("group"),{behavior:"url(#default#VML)"});if(!aa(ae,"transform")&&ae.adj){W.addRule(".spin-vml","behavior:url(#default#VML)");O.prototype.lines=function(ah,ag){var af=ag.length+ag.width,an=2*af;function am(){return S(ad("group",{coordsize:an+" "+an,coordorigin:-af+" "+-af}),{width:an,height:an})}var ai=-(ag.width+ag.length)*2+"px",al=S(am(),{position:"absolute",top:ai,left:ai}),ak;function aj(ap,ao,aq){U(al,U(S(am(),{rotation:360/ag.lines*ap+"deg",left:~~ao}),U(S(ad("roundrect",{arcsize:ag.corners}),{width:af,height:ag.width,left:ag.radius,top:-ag.width>>1,filter:aq}),ad("fill",{color:ag.color,opacity:ag.opacity}),ad("stroke",{opacity:0}))))}if(ag.shadow){for(ak=1;ak<=ag.lines;ak++){aj(ak,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(ak=1;ak<=ag.lines;ak++){aj(ak)}return U(ah,al)};O.prototype.opacity=function(ag,af,ai,ah){var aj=ag.firstChild;ah=ah.shadow&&ah.lines||0;if(aj&&af+ah<aj.childNodes.length){aj=aj.childNodes[af+ah];aj=aj&&aj.firstChild;aj=aj&&aj.firstChild;if(aj){aj.opacity=ai}}}}else{ab=aa(ae,"animation")}})();if(typeof define=="function"&&define.amd){define(function(){return O})}else{V.Spinner=O}}(window,document);var D=function(){var af=a,an="tml_",ak=af.Env.isMobile(),ag,ai,az,S={},U={},Z,ad=true,aw=false,am,ab,al=[],ae=false,W,X;var ay=af.Env.getInfo().browser.name||af.Env.getInfo().browser;Z=ay==="webkit"?"-webkit-":ay==="mozilla"?"-moz-":"";var av=function(aB){aB&&(S=q(S,aB));var aC=document.querySelector(".tml_content");am=S.firstPageId||aC&&aC.id};var O=function(){var aC=arguments;var aD=(typeof aC[0]==="string")?aC[0]:aC[0].get?aC[0].get(0).getAttribute("id"):aC[0].getAttribute("id"),aF=aC[1],aE=(typeof aC[2]==="string")?aC[2].toLowerCase():"oncomplete",aB=(typeof aC[2]==="string")?aC[3]:aC[2];U[aD]=U[aD]||{};U[aD][aE]=U[aD][aE]||{};U[aD][aE][aF]=aB};var R=function(aK,aL,aE){!aL&&(aL=Q().urlParams);if(!aK||aw){return false}aw=true;var aJ=(aK.constructor===String)?$("."+an+"content#"+aK):$(aK);if(!aE){Y(aJ,aL)}if(ag[0].id==aJ[0].id&&ag.css("display")=="block"){aq(aJ,aL);return false}else{if(aL&&aL.transition=="none"){var aG={left:"0%",display:"block"};aG[Z+"transition-duration"]="0";aG[Z+"transform"]="translateX(0)";aJ.css(aG);var aC={display:"none"};if("outElementStyle" in aL){for(var aF in aL.outElementStyle){aC[aF]=aL.outElementStyle[aF]}}ag.css(aC);aq(aJ,aL)}else{if(aL&&aL.transition=="fade"){ag.css("z-index",2);if(ak){aJ.css(Z+"transition-duration","0");aJ.css(Z+"transform","translateX(0)")}else{aJ.css("left",0)}aJ.css("display","block");ag.css(Z+"transition","opacity 0.5s linear").css("opacity",0);setTimeout(function(){ag.css("display","none").css(Z+"transition-duration","0").css({"z-index":1,opacity:1});aq(aJ,aL)},200)}else{var aI=aL&&aL.direction||ac(aJ),aB=(aI==="rtl")?"100%":"-100%",aD=(aI==="rtl")?"-100%":"100%";if(ak){aJ.css(Z+"transition-duration","0");aJ.css(Z+"transform","translateX("+aB+")")}else{aJ.css("left",aB)}aJ.css("display","block");setTimeout(function(){aJ.animate({left:"0%"});ag.animate({left:aD},200,"ease",function(){aq(aJ,aL)})},200)}}}if(!aL||aL.muteEventReport!==true){var aH={action:"Navigate",to:aJ[0].id};if(aL&&aL.title){aH.title=aL.title.replace("/","-")}if(aL&&aL.id&&aL.id.replace){aH.id=aL.id.replace("/","-")}if(af.Messenger){af.Messenger.trigger(af.Events.USER_ACTION,aH)}}a.Viewport.hideAddressBar();return true};var ah=function(){if(X){var aB=Q().firstPage;if(aB){at(am,{direction:"ltr"})}else{history.back()}}else{at(ai,{muteEventReport:true})}a.Viewport.hideAddressBar()};var at=function(aF,aE,aG){!aE&&(aE={});if(X){aF.constructor!==String&&(aF=$(aF)[0].id);var aB=Q().urlParams;if(aE.url){for(var aC in aE.url){aB[aC]=aE.url[aC]}delete aE.url}aB.topage=aF;if(B(aB,aA())){return false}var aI=[];for(var aC in aB){if(!(aC==="topage"&&aB[aC]===am)){var aH=(aB[aC]!==undefined)?aB[aC]:"";aI.push(aC+"="+aH)}}var aD="?"+aI.join("&");q(aE,{firstPage:false,urlParams:aB});window.history.pushState(aE,null,aD)}R.apply(this,arguments)};var P=function(aC,aD){var aB=ag.next();if(aB&&aB.hasClass("tml_content")){at(aB,aC,aD)}};var ap=function(aB,aD){var aC=ag.prev();if(aC&&aC.hasClass("tml_content")){at(aC,aB,aD)}};var Y=function(aB,aC){var aE=ag[0].id,aD=aB[0].id;q(aC,{currentElement:ag[0],nextElement:aB[0]});V(aC,["*","onstart","in"]);V(aC,[aD,"onstart","in"]);if(aE!=aD){V(aC,[aE,"onstart","out"])}V(aC,aC,["onStart"])};var aq=function(aB,aC){var aE=ag[0].id,aD=aB[0].id;ai=ag;ag=aB;q(aC,{currentElement:ag[0],nextElement:ai[0]});V(aC,["*","oncomplete","in"]);V(aC,[aD,"oncomplete","in"]);if(aE!=aD){ai.css("display","none");V(aC,[aE,"oncomplete","out"])}V(aC,aC,["onComplete"]);aw=false};var V=function(aF,aG,aE){var aC=true;if(!aE){aE=aG;aG=U}if(!aG){return false}for(var aD=0,aB=aE.length;aD<aB;aD++){aG=aG[aE[aD]];if(!aG){aC=false;break}}aC&&aG(aF)};var ac=function(aB){var aC=ar(aB);var aD=(aC&&aC!==""&&aC!=="none")?(aC==="translateX(-100%)"):(aB.get(0).style.left==="-100%");return aD?"ltr":"rtl"};var ar=function(aC){var aB=aC.css(Z+"transform"),aD=aC[0].style[Z+"transform"];return aB&&aB!==""&&aB!=="none"?aB:aD};var aa=function(aB){if(aB.constructor===String){ag=$("#"+aB)}else{ag=$(aB)}!am&&(am=aB.id)};var au=function(){return ag[0]};var N=function(){if(ag&&az!==ag[0].offsetHeight){az=ag[0].offsetHeight;return az}return false};var aj=function(aD){if(aD&&aD.state){var aC=ax(aD);var aB=aC.urlParams.topage||am;R(aB,aC)}};var T=function(){var aB=aA(),aE=aB.topage||am,aC={transition:"none",outElementStyle:{}};if(a.Env.isMobile()){aC.outElementStyle[Z+"transform"]="translateX(-100%)"}else{aC.outElementStyle["left"]="-100%"}var aD=Q();if(!aD||aD.firstPage===undefined){aD={firstPage:true,urlParams:aB};ax({state:aD});window.history.replaceState(aD,null)}q(aC,{firstPage:true,urlParams:aB});R(aE,aC)};var ao=function(){X=true;window.addEventListener("popstate",aj,false);T()};var aA=function(){var aC=t();for(var aB in aC){aC[aB]=decodeURIComponent(aC[aB])}return aC};var Q=function(){var aC={};if(W){for(var aB in W){aC[aB]=W[aB]}}return aC};var ax=function(aB){return W=aB&&aB.state};return{init:av,initHistory:ao,goTo:at,next:P,previous:ap,back:ah,attachCallback:O,bind:O,setCurrent:aa,getCurrent:au,hasNewContentHeight:N,Indicator:new h(),getCurrentHistoryState:Q}};function h(){var Q,S,O,T={lines:10,length:7,width:3,radius:7,color:"#ffffff",speed:1.4,trail:72,shadow:true,parent:document.body},N={position:"absolute",left:"50%",top:"50%","z-index":200};var R=function(W){var U={};for(i in T){U[i]=T[i]}for(i in W){U[i]=W[i]}var V=W.parent||$(document.body);$mainEl=V.children(".doml-progress-indicator");if($mainEl.length===0){$mainEl=$('<span class="doml-progress-indicator" />');$mainEl.css(N);V.append($mainEl)}O=$mainEl[0];S=new Spinner(U);S.spin(O)};var P=function(){$mainEl=$('<span class="doml-progress-indicator" />');$mainEl.css(N);$(document.body).append($mainEl);O=$mainEl[0];Q=new Spinner(T)};this.show=function(U){if(U){R(U)}else{if(!Q){P()}Q.spin(O)}};this.hide=function(){if(S){S.stop()}if(Q){Q.stop()}}}var c=function(W){var aj=this,S,Y,ag,Z,ac=[],an=[],N="tml-searchbar-keyboard-visible",ae,af="default";this.clearValue=O;this.fillValue=U;this.setValue=Q;this.getInputElement=V;this.submitFunc=P;this.blur=ak;this.focus=ad;this.onKeyboardVisible=ab;this.onKeyboardHidden=X;a.Events.ready(am);function am(){S=document.getElementById("tml-searchbar-searchfield");if(S){ag=$(document.body);Z=document.getElementById("tml-searchbar-form");aj.submit=Z.onsubmit;ae=S.getAttribute("data-defaulttext");S.addEventListener("focus",T,false);S.addEventListener("blur",aa,false);S.addEventListener("touchstart",function(){a.Viewport.hideAddressBar()},false);if(W&&W.searchClearButton){ah(W)}Q("");a.Nav.bind("*","in","onstart",function(ap){if(!ap||!ap.urlParams){return}var ao=ap.urlParams.do_query||"";Q(ao)})}}function ah(ao){if(V().getAttribute("data-clearbutton")!==""){Y=new C();var ap=ao&&ao.css||{};!ap.left&&(ap.left=S.offsetWidth);buttonEl=Y.init({css:ap,onClick:function(){Q("",true);ad()}});var aq=V().parentNode;aq.style.position="relative";aq.appendChild(buttonEl)}}function O(){S.className="";if(!ae){return}if(R()===ae){Q("",true)}}function U(){if(!ae){return}if(R()===""){Q(ae)}}function P(ao){a.Viewport.hideAddressBar();if(R()!==""&&R()!==ae){ao&&ao()}ak()}function ad(){S.focus()}function ak(){S.blur()}function ab(ao){ac.push(ao)}function X(ao){an.push(ao)}function Q(ap,ao){if(!ao&&!ap){ap=ae||""}if(ae){S.className=af}S.value=ai(ap)}function R(){return ai(S.value)}function V(){return S}function al(){a.Messenger.trigger(a.Events.USER_ACTION,{action:"Search",newQuery:R()});ak()}function T(){a.Viewport.hideAddressBar();ag.addClass(N);O();for(var ap=0,ao=ac.length;ap<ao;ap++){ac[ap].call(S)}}function aa(){ag.removeClass(N);U();for(var ap=0,ao=an.length;ap<ao;ap++){an[ap].call(S)}}function ai(ao){return ao.replace(/\+/g," ")}this.getValue=function(){var ao=R();return ao!==ae?ao:""}};function C(){var O,N={position:"absolute",top:"5px",cursor:"pointer","background-color":"#BBBBBB",width:"16px",height:"16px","text-align":"center","line-height":"17px","border-radius":"8px","-webkitborder-radius":"8px","-moz-border-radius":"8px",color:"white","font-weight":"bold","font-size":"12px","font-family":"arial","text-shadow":"none",leftOffset:-19};this.init=function(P){for(i in P.css){N[i]=P.css[i]}N.left=N.left+N.leftOffset+"px";O=$("<span/>");O.addClass("tml-searchbar-clear").html("X").css(N).click(function(Q){Q.preventDefault();P.onClick()});return O[0]};this.show=function(){O.show()};this.hide=function(){O.hide()}}var x=function(){var ah,W,af,ae,aa,Y,ag,T,X,U,O,ac,Z;this.init=function(ak){var an;if(ak&&ak.id&&document.getElementById(ak.id)){an=$("#"+ak.id)}else{return false}if(typeof a!=="undefined"){W=a.Env.isMobile();var aj=a.Env.getInfo().browser;af=aj==="webkit"?"-webkit-":aj==="mozilla"?"-moz-":""}else{W=true}U=ak.trackWidth;Z=ak.onSelect;ag=W?"touchstart":"mousedown";T=W?"touchmove":"mousemove";X=W?"touchend":"mouseup";ah=$('<div class="doml-slider" />');an.parent().append(ah);ah.append(an);var ao=[];an.children().each(function(){var ap=$("<div/>");$(this).appendTo(ap);ao.push(ap.html())});itemArrLength=ao.length;ac=U/itemArrLength;var ai=$('<div class="wrapper">');ai.css("width",U+"px");ah.append(ai);$eventCaptureEl=$('<div class="eventCapture" />');$eventCaptureEl.css("width",U+"px");$eventCaptureEl.bind(ag,R,false);document.addEventListener(X,N,false);ai.append($eventCaptureEl);handleWrapper=new ab();var al=handleWrapper.init();ai.append(al);Y=new Q();var am=Y.init(ao);al.append(am);return true};var R=function(aj){document.addEventListener(T,S,false);var ak=ad(aj);var ai=P(ak);if(ai!==O){O=ai;Y.update(O)}handleWrapper.update(ak,O);Y.show()};var S=function(aj){aj.preventDefault(aj);var ak=ad(aj);if(ak<=U&&ak>=0){var ai=P(ak);if(ai!==O){O=ai;Y.update(O)}handleWrapper.onTouchMove();handleWrapper.update(ak,O)}};var N=function(ai){handleWrapper.onTouchEnd();document.removeEventListener(T,S);var aj=V(O);handleWrapper.update(aj);Y.hide();if(Z){Z(O)}};var P=function(aj){var ai=(aj/U)*itemArrLength;ai=parseInt(ai,10);return ai};var ad=function(ai){ai=ai.touches&&ai.touches[0]||ai.originalEvent&&ai.originalEvent.touches&&ai.originalEvent.touches[0]||ai;return ai.clientX};var V=function(ai){return ai*ac};function ab(){var ai;this.init=function(ak){ai=$('<div class="handle_wrapper"><div class="handle"/></div>');return ai};this.update=function(ak){aj(ak)};this.onTouchMove=function(){ai.addClass("dragged")};this.onTouchEnd=function(){ai.removeClass("dragged")};var aj=function(ak){ai.css(af+"transform","translateX("+ak+"px)")}}function Q(){var aj=this;var ak,ai,am,al;this.init=function(an){al=an;ak=$('<div class="preview"/>');ai=$('<div class="content"/>');ak.append(ai);am=$('<span class="indicator"/>');ak.append(am);aj.hide();return ak};this.show=function(){ak.addClass("displayed")};this.update=function(an){ai.html(al[an]);am.html(an+1+" of "+al.length)};this.hide=function(){ak.removeClass("displayed")}}};function J(){var aj=null,X=null,V=null,Z=null;var Y=0,W=0,U=false,S=true,T=false;var N=320,R=0,ad=5,ag=0,P=null;var ah="0.5",O=4000;var aa=this;this.init=function(al){al=al||{};aj=al.element||null;X=al.navElement||null;V=al.itemsElement||null;Z=al.onSelect||null;al.itemWidth&&(N=al.itemWidth);al.thumbWidth&&(R=al.thumbWidth);al.numVisibleThumbs&&(ad=al.numVisibleThumbs);al.animationSpeed&&(ah=al.animationSpeed);al.autoplay&&(typeof al.autoplay=="number")&&(O=al.autoplay);S=(typeof al.stopAutoplayOnTouch=="boolean")?al.stopAutoplayOnTouch:true;T=(typeof al.thumbsSwipe=="boolean")?al.thumbsSwipe:false;onHitStartArr=[],onHitEndArr=[],onHitStart=function(){onHitStartArr.forEach(function(am){am.apply(arguments)})};onHitEnd=function(){onHitEndArr.forEach(function(am){am.apply(arguments)})};al.onHitStartCallback&&onHitStartArr.push(al.onHitStartCallback);al.onHitEndCallback&&onHitEndArr.push(al.onHitEndCallback);ag=V.find("li").length;ab();ac();if(X){var ak=X.find("li");ak.click(function(){aa.setItemByThumb(this)});$(ak[0]).addClass("active")}af();if(al.autoplay){aa.autoplayStart();if(al.stopAutoplayOnFocus){a.Events.focused(function(){aa.autoplayStop()});a.Events.blurred(function(){aa.autoplayStart()})}}};function ac(){var ak=V.parent().get(0);a.Env.addEventListener(ak,"touch",function(am,al){switch(al.type){case"start":ai(V);S&&aa.autoplayStop();break;case"move":aa.move(al.delta.x);break;case"end":if(!al.swipeEvent){aa.showCurrentItem()}else{am=am.originalEvent||am;am.preventDefault();Q(V);if(al.direction=="rtl"){aa.next()}else{aa.prev()}}break}});if(X&&T){ak=X.parent().get(0);a.Env.addEventListener(ak,"touch",function(am,al){switch(al.type){case"start":ai(X);S&&aa.autoplayStop();break;case"move":aa.moveTabs(al.delta.x);break;case"end":if(!al.swipeEvent){aa.showCurrentItem(true)}else{am=am.originalEvent||am;am.preventDefault();Q(X);if(al.direction=="rtl"){aa.nextTabs()}else{aa.prevTabs()}}break}})}$(document).bind("keyup",function(al){if(U){switch(al.keyCode){case 36:S&&aa.autoplayStop();aa.setItem(0);break;case 35:S&&aa.autoplayStop();aa.setItem(ag-1);break;case 39:S&&aa.autoplayStop();aa.next();break;case 37:S&&aa.autoplayStop();aa.prev();break}}})}function ab(){ae(aj);ae(X);ae(V);V.parent().css({width:N+"px",overflow:"hidden"});V.find("li").css({"float":"left",width:N+"px"});V.css({width:(N*ag)+"px","list-style-type":"none",overflow:"hidden"});if(X&&R!==0){X.css({width:(R*ag)+"px","list-style-type":"none",overflow:"hidden"})}}this.autoplayStart=function(){if(P!==null){aa.autoplayStop()}P=setInterval(function(){aa.next(true)},O)};this.autoplayStop=function(){clearInterval(P);P=null};this.show=function(ak){if(ak&&ak.delay){setTimeout(af,ak.delay)}else{af()}};this.hide=function(){aj.hide();U=false};function af(){aj.show();U=true}this.removeItem=function(am){var al=(typeof am=="number")?V.children()[am]:am;var ak=aa.index(al);$(al).remove();X&&$(X.children()[ak]).remove();ag--;if(Y==ak){Y--;if(Y<=0){Y=0}}aa.showCurrentItem()};this.move=function(ak){V.css({"-webkit-transform":"translate("+-(Y*N-ak)+"px)","-moz-transform":"translate("+-(Y*N-ak)+"px)",transform:"translate("+-(Y*N-ak)+"px)"})};this.moveTabs=function(ak){X&&X.css({"-webkit-transform":"translate("+-(W*R-ak)+"px)","-moz-transform":"translate("+-(W*R-ak)+"px)",transform:"translate("+-(W*R-ak)+"px)"})};this.prev=function(){Y--;if(Y<0){Y=0;onHitStart()}aa.showCurrentItem()};this.next=function(ak){Y++;if(Y==ag){Y=(ak)?0:ag-1;onHitEnd()}aa.showCurrentItem()};this.prevTabs=function(){W-=ad;if(W<=0){W=0}aa.showCurrentItem(true)};this.nextTabs=function(){W+=ad;if(W>=ag-ad){W=ag-ad}aa.showCurrentItem(true)};this.setItemByThumb=function(ak){aa.setItem(aa.index(ak))};this.getCurrent=function(){return Y};this.index=function(am){am=$(am);var ak=am.parent().children();for(var al=0;al<ak.length;al++){if(ak[al]==am[0]){return al}}return -1};this.setItem=function(ak){Y=ak;aa.showCurrentItem()};this.showCurrentItem=function(an){var am=(an&&X)?X:V;var ak=(an&&X)?-(W*R):-(Y*N);Q(am);am.css({"-webkit-transform":"translate("+ak+"px)","-moz-transform":"translate("+ak+"px)",transform:"translate("+ak+"px)"});Z&&Z(Y);V.find(".active").removeClass("active");$(V.children("li")[Y]).addClass("active");if(X){X.find(".active").removeClass("active");$(X.children("li")[Y]).addClass("active")}if(!an){var al=Math.floor(Y/ad)*ad;if(al!=W){W=al;aa.showCurrentItem(true)}}};function ai(ak){ak.css({"-moz-transition":"-moz-transform 0s","-webkit-transition":"-webkit-transform 0s",transition:"transform 0s"})}function Q(ak){ak&&ak.css({"-moz-transition":" -moz-transform "+ah+"s ease-out","-webkit-transition":"-webkit-transform "+ah+"s ease-out",transition:"transform "+ah+"s ease-out"})}function ae(ak){ak&&ak.css({"-webkit-transform":"translate3d(0px, 0px, 0px) rotate(0deg) scale(1)","-webkit-box-sizing":"border-box","-webkit-backface-visibility":"hidden"})}}function G(){var U=this,Z,V,O,N,ab,T=[],W,ac,P=document.getElementsByTagName("head")[0],R={vScrollbar:true,hScroll:false,useTransform:false},Q;var Y=function(){var af=$("."+O);return(af.length>0)};var aa=function(){if(ad()){Z.Log&&Z.Log.info(Z.Env.getInfo().platform+" "+Z.Env.getInfo().version+" has fixed positioning so using position: fixed");ac.css({position:"fixed",top:0,left:0,width:"100%","z-index":2});$contents.css({top:ac.get(0).offsetHeight+"px",height:"auto","z-index":1})}else{Z.Log&&Z.Log.info(Z.Env.getInfo().platform+" "+Z.Env.getInfo().version+" has NO fixed positioning so using iScroll");if(T.length==0){document.body.addEventListener("touchmove",function(ay){},false)}for(var ar=0,at=$contents.length;ar<at;ar++){var af=$contents[ar];var ax=$(af);var ao=af.getAttribute("id");if(T[ao]){T[ao].refresh.call(T[ao])}else{if(!(Q.disableIScroll&&Q.disableIScroll[ao])){ax.css({visibility:"hidden",display:"block"});var aw={};for(k in R){aw[k]=R[k]}var ah=$(af).children("*");var an=ah.length===1;if(!an){var ai=document.createElement("div");ai.className=V+"created";ai.style.width="100%";for(var ar=0,at=af.children.length;ar<at;ar++){alert(af.children[ar]);ai.appendChild(af.children[ar])}af.appendChild(ai)}else{ah[0].style.width="100%"}if(Q.pullToRefresh===ao){var av="touchy-pulldown",al="touchy-pulldown-icon",ap="touchy-pulldown-flip",am="touchy-pulldown-loading",ag="touchy-pulldown-label",aq={pull:"Pull down to refresh...",release:"Release to refresh...",loading:"Loading..."};var aj="#"+av+" {     background:#000000;     height:40px;     line-height:40px;     padding:5px 10px;     font-weight:bold;     font-size:14px;     color:#888888;     visibility:hidden}#"+av+" ."+al+" {     display:block; float:left;     width:40px; height:40px;     background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAACgCAMAAACsXRuGAAAAt1BMVEX////FxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcU7SVrkAAAAPHRSTlMAAPONxyCMRvCjM2n59gzeD/xssVo52Akwh6sDpeTbckJLZroqfhUnRernVxifG9XDgb2ZzzxjeLThEmBcLCjmAAACDklEQVR4Xu2Y124yQQyFM9sh9BJafgik956/7fs/V4RCwiITbMdjCSGfKy4On7THnuLZ8yGTyRWUr1W54NgNIC4Dbm+VrQ+tbQxoQAMa0IAGnO4vtR44WBquCcBuJadrSslwQucNaBm2qbyHEQ3YqNN4l3fUKpdpMV7Q26ZF4T3S+5AU49OIA8RjvLpxDCAeY/PIcYB4jKf8tTzcxDt2fGBt/D3v19kPgK5fRQLkAt0MCZANdIdIgGxg7WBjgHygO1kTY/NVMla8QeBvJwHCGP84CRDG+PefBAhjrHTlo9n/InDiY9a7XfLazgewd//Jqze8AN15sAiw7Gu87XwAW/7m5ec5b+j8AXsveT6uSYAwxmrf7xNBZ+aYQJPJZDLh+20aRlkWhen8twdgnCyO0SCJfQDjUv6lUuwBmOQFJXJgGhSBQSoGhvmKQnFNo1VgBD3MmmarwAx6WDWFQOhh1RR+MvSwagqLwqw7/ndW3UkfCD2bhJcAephAvJGYn4y3OrMouIfZNriH19i4h7v0cI9ww4ce4ZEEPTt6/uJ+UdS4H28G1C9qV9yPLyjUL1vyuB/dlLh+dNtE/dpA+SdrF0XeNsqNLV96+puDfPvaaukfUvJjVP+gl19F9C9L8uuc/oVTfiXWv7TLxwr9wUc+msmHR/3xVj6A6z8RSBej/jMLp+76T1X6j2m7eP6aTO9STHV4CXebKAAAAABJRU5ErkJggg%3D%3D); 0 0 no-repeat;     -webkit-background-size:40px 80px; background-size:40px 80px;     -webkit-transition-property:-webkit-transform;     -webkit-transition-duration:250ms;     -webkit-transform:rotate(0deg) translateZ(0);}#"+av+"."+ap+" ."+al+" {     -webkit-transform:rotate(-180deg) translateZ(0);}#"+av+"."+am+" ."+al+" {     background-position:0 100%;     -webkit-transform:rotate(0deg) translateZ(0);     -webkit-transition-duration:0ms;     -webkit-animation-name:"+am+";     -webkit-animation-duration:2s;     -webkit-animation-iteration-count:infinite;     -webkit-animation-timing-function:linear;}@-webkit-keyframes "+am+" {     from { -webkit-transform:rotate(0deg) translateZ(0); }     to { -webkit-transform:rotate(360deg) translateZ(0); }}";z("style",P,{type:"text/css",innerHTML:aj});var ak='<div id="'+av+'">    <span class="'+al+'"></span>    <span class="'+ag+'">'+aq.pull+"</span></div>";ah.prepend(ak);$pullDownElement=$("#"+av);$pullDownLabelClass=$pullDownElement.find("."+ag);pullDownOffset=$pullDownElement[0].offsetHeight;var au={onRefresh:function(){$pullDownElement.css("visibility","visible");$pullDownElement.removeAttr("class");$pullDownLabelClass.html(aq.pull)},onScrollMove:function(){if(this.y>5&&!$pullDownElement.hasClass(ap)){$pullDownElement.addClass(ap);$pullDownLabelClass.html(aq.release);this.minScrollY=0}else{if(this.y<5&&$pullDownElement.hasClass(ap)){$pullDownElement.removeAttr("class");$pullDownLabelClass.html(aq.pull);this.minScrollY=-pullDownOffset}}},onScrollEnd:function(){if($pullDownElement.hasClass(ap)){$pullDownElement.removeAttr("class");$pullDownLabelClass.html(aq.loading);if(doat_config.pullToRefreshCB){doat_config.pullToRefreshCB()}T[ao].refresh.call(T[ao]);$pullDownElement.parent().css("-webkit-transform","translate3d(0px, -"+pullDownOffset+"px, 0px) scale(1)")}},topOffset:pullDownOffset,useTransition:true,useTransform:true};for(k in au){aw[k]=au[k]}}T[ao]=new iScroll(ao,aw);ax.bind("touchstart",{id:ao},function(ay){var az=ay.data.id;T[az].refresh.call(T[az])});ax.css({display:"none",visibility:"visible"})}}}}};this.init=function(af){Q=af;W=$(document.body);Z=window.TouchyJS;V="tml_";O=V+"content";N=V+"header";ab=V+"scrollable";$contents=W.find("."+O);Z.Env.addEventListener("orientationChange",S);if($contents.length>0){S($contents);var ag=Q.displayContent||0,ah=$contents[ag];$(ah).css("display","block");Z.Nav.setCurrent(ah)}};function X(){document.body.removeEventListener("touchstart",X);var af=Z.Nav.getCurrent();$(af).css("height",window.screen&&window.screen.availHeight+"px"||"1000px");window.scrollTo(0,0);setTimeout(function(){U.refreshAll()},1000)}function S(ag){ag=ag&&ag.length?ag:W.children("."+O);ac=ac||W.children("."+N);var af=ac.length?ac[0].offsetHeight:0,ah=window.innerHeight-parseInt(W.css("margin-top"),10)-parseInt(W.css("margin-bottom"),10)-af;ag.css({width:"100%",position:"absolute",top:af+"px"});if(Q.fixedPositioning){aa(Q.fixedPositioning==="capableOnly")}}this.refresh=function(ag,af){ag=ag||Z.Nav.getCurrent().getAttribute("id");if(af){$("#"+ag).children("*").css("height",af+"px")}if(T[ag]){T[ag].refresh()}};this.refreshAll=function(){S()};this.scrollTo=function(ah){var af=Z.Nav.getCurrent(),ag=af.getAttribute("id");if(T[ag]){T[ag].scrollTo(0,ah,0)}else{af.scrollTop=ah}};this.disable=function(){var af=Z.Nav.getCurrent(),ag=af.getAttribute("id");if(T[ag]){T[ag].disable()}};this.enable=function(){var af=Z.Nav.getCurrent(),ag=af.getAttribute("id");if(T[ag]){T[ag].enable()}};var ad=function(){if(!Z.Env.isMobile()){return true}var af=Z.Env.getInfo();p=af.platform,v=af.version;if(p==="iphone"||p==="ipad"){return ae(v,"5")}else{if(p==="android"){return ae(v,"2.2")}}return false};function ae(aj,ai){var ah=aj.split(".");var ag=ai.split(".");for(var af=0;af<ah.length;++af){if(ag.length==af){return true}if(ah[af]==ag[af]){continue}else{if(parseInt(ah[af],10)>parseInt(ag[af],10)){return true}else{return false}}}if(ah.length!=ag.length){return false}return true}}function g(O,U,T){T&&T.info("platform="+O);var N=document.body.style.animationName,R=["Webkit","Moz","O","ms","Khtml"];if(!N){for(var S=0;S<R.length;S++){if(document.body.style[R[S]+"AnimationName"]!==undefined){CSS_PREFIX="-"+R[S].toLowerCase()+"-";N=true;break}}}if(!N){return false}var P=["scale","rotate","skew","translate","matrix"];V();$.fn.fadeIn=function(){var Y=j(arguments);return $(this).animate({opacity:1},Y.dur,Y.ease,Y.cb)};$.fn.fadeOut=function(){var Y=j(arguments);return $(this).animate({opacity:0},Y.dur,Y.ease,Y.cb)};$.fn.animate=function(){var ag=this;var ab,ae,Y,aa,ad=[];for(var ac=1;ac<arguments.length;ac++){var af=arguments[ac];if(typeof af==="function"){ad.push(af)}else{if(af==="fast"||af==="slow"){Y=af}else{if(typeof af==="string"){aa=af}else{Y=af}}}}ae=arguments[0];ae[CSS_PREFIX+"transform"]="";for(ab in ae){var Z;if(ae[ab].toString().indexOf("=")!==-1){ae[ab]=X(ag,ab,ae[ab])}if(Q(ab)){ae[CSS_PREFIX+"transform"]+=ab+"("+ae[ab]+")";delete ae[ab]}else{if(ab==="left"||ab==="right"){Z=(ab==="right")?W(ae[ab]):ae[ab];ae[CSS_PREFIX+"transform"]+="translateX("+Z+")";delete ae[ab]}else{if(ab==="bottom"||ab==="top"){Z=(ab==="bottom")?W(ae[ab]):ae[ab];ae[CSS_PREFIX+"transform"]+="translateY("+Z+")";delete ae[ab]}}}}Y=(Y==="fast")?0.2:(Y==="slow")?0.6:Y/1000||0.3;aa=(!aa||aa==="swing")?"ease-in-out":aa;if(ad.length>0){setTimeout(function(){var ai,ah=ad.length;for(ai=0;ai<ah;ai++){ad[ai].call(ag)}},Y*1000)}ae[CSS_PREFIX+"transition"]="all "+Y+"s "+aa;return ag.css(ae)};function Q(Y){for(var Z=0;Z<P.length;Z++){if(Y.indexOf(P[Z])!==-1){return true;break}}return false}function W(Y){Y=Y.toString();return(Y.indexOf("-")===0)?Y.substring(1,Y.length):"-"+Y}function X(Z,ac,ab){var af=(ab.indexOf("-=")!==-1)?-1:1;ab=ab.toString();var Y=parseInt(ab.substring(2,ab.length),10).toString();var aa=ab.substring(2+Y.length,ab.length);var ae=Z.css(ac);ae=(ae&&ae!=="")?parseInt(ae,10):0;var ad=ae+(af*Y)+aa;return ad}function V(){var Y={};if(O!=="android"){Y[CSS_PREFIX+"transform"]="translate3d(0px, 0px, 0px) rotate(0deg) scale(1)";Y[CSS_PREFIX+"box-sizing"]="border-box";Y[CSS_PREFIX+"backface-visibility"]="hidden";T&&T.info("Including cfg['"+CSS_PREFIX+"transform'] = 'translate3d(0px, 0px, 0px) rotate(0deg) scale(1)'")}else{T&&T.info("not including cfg['"+CSS_PREFIX+"transform'] = 'translate3d(0px, 0px, 0px) rotate(0deg) scale(1)'")}$(".doml_content").css(Y)}}function j(O){var Q={};for(var P=0;P<O.length;P++){var N=O[P];if(typeof N==="function"){Q.cb=N}else{if(N==="fast"||N==="slow"){Q.dur=N}else{if(typeof N==="string"){Q.ease=N}else{Q.dur=N}}}}return Q}var e=function(){var ak=this,T={},Z=document.getElementsByTagName("head")[0],aj=$(document.body),aw=null,ah=null,U=null,O=null,al=null,ab=false,V=textConnect=textConnecting=null,P=null;var am=false,ap=null,ao=[];var ae=null,ar=null,ai="isFBUser",Y="",ad=1,av=2,au="doml-facebook",W="doml-facebook-loggedin";var ag={textDialog:"Welcome<br />Please login",textConnect:"Login with Facebook",textConnecting:"Connecting..."};this.init=function(ax,ay){ax&&(T=ax);if(am||(!ay&&!T.login&&!R())){return}ae=T.appId;ar=T.channel||"http://"+window.location.hostname+"/channel.php";V=T.textDialog||ag.textDialog;textConnect=T.textConnect||ag.textConnect;textConnecting=T.textConnecting||ag.textConnecting;Y=T.namespace||"";X();Q();$elLoginCancel=$("#doat-fb-login-cancel");aw=$("#doat-fb-login");U=aw.find(".button");al=U.find(".button-loading");O=U.find(".button-real");aw.find(".content").html(V);O.find(".text").html(textConnect);al.find(".text").html(textConnecting);U.bind("touchstart",function(az){az.preventDefault();az.stopPropagation();ak.login()});ah=$('<div id="doat-fb-overlay"></div>');aj.append(ah);ah.bind("touchstart",function(az){az.preventDefault();az.stopPropagation()});aj.addClass(au);if(T.permissions){P=T.permissions}S();aq();am=true};this.forceInit=function(){ak.init(null,true)};function S(){if(at.get(ai)!=av){$(document.body).addClass("loggedout");U.find(".button-loading").removeClass("active");U.find(".button-real").addClass("active");ah&&ah.show();aw.show();var az=document.body.scrollTop||document.documentElement.scrollTop;var ay=window.innerHeight/2+az;aw.css({top:ay+"px","margin-top":-(aw.height()/2+20)+"px"});aw.bind("touchstart",function(aA){aA.preventDefault()});if(Spinner){var ax={lines:8,length:2,width:3,radius:3,color:"#fff",speed:1,trail:60,shadow:false};loading=new Spinner(ax).spin(al.find(".icon")[0])}}}function aq(){var az=$('<div id="fb-root"></div>');aj.append(az);var aA=document,ay,aB="facebook-jssdk",ax=aA.getElementsByTagName("script")[0];ay=aA.createElement("script");ay.id=aB;ay.async=true;ay.src="//connect.facebook.net/en_US/all.js";ax.parentNode.insertBefore(ay,ax)}this.onFBInit=function(){FB.init({appId:ae,channelUrl:ar,status:true,cookie:true,xfbml:false});FB.getLoginStatus(function(ax){ab=ax.status==="connected";if(ax.status==="connected"){N(P,af,function(){ak.login()})}else{ak.showLogin()}})};window.fbAsyncInit=ak.onFBInit;this.showLogin=function(){at.set(ai,ad);S();FB.Event.subscribe("auth.statusChange",function(ax){ab=ax.status==="connected";if(ab){af()}else{aa()}})};this.hideLogin=function(){aw.hide();ah&&ah.hide();$(document.body).removeClass("loggedout");ab=true};this.login=function(){if(!am){ak.forceInit();return}if(!at.get(ai)){at.set(ai,ad)}FB.login(function(ax){if(ax.status!=="connected"){aa()}else{af()}},(P?{scope:P}:null))};this.logout=function(){};this.loggedIn=function(){return ab};this.action=function(ax){var az=ax.fb.namespace||Y;var aA=null;var ay=new an();ay.init(ax.fb.shortname);for(key in ax.fb.data){ax.fb.data[key]=ay.addToLink(ax.fb.data[key])}FB.api("/me/"+az+":"+ax.fb.action,"post",ax.fb.data,function(aB){ay.handleAPICallback(ax,aB)})};this.share=function(ax){if(!ax||!ax.fb||!ax.app){return}if(!am){ak.onLogin(function(){ak.share(ax)});ak.forceInit();return}var az={method:"feed",link:ax.fb.link||"http://"+window.location.hostname,message:ax.fb.message||null,picture:ax.fb.picture||null,name:ax.fb.name||null,description:ax.fb.description||null,caption:ax.fb.caption||null};var ay=new an();ay.init(ax.fb.shortname);az.link=ay.addToLink(az.link);FB.ui(az,function(aA){ay.handleAPICallback(ax,aA)})};function an(){var az="",ax=null,aA="flyapps.me";this.init=function(aC){var aB=window.location.host.split(".");if(!aC){aC=aB[0]}aB.splice(0,1);aA=aB.join(".");az=aC+"-"+(new Date()).getTime()};this.addToLink=function(aB){if(aB){if(aB.indexOf("?")!==-1){aB+="&token="+az}else{aB+="?token="+az}return aB}return false};this.handleAPICallback=function(aE,aD){if(!aD||aD.error){aE.fb.onError&&aE.fb.onError()}else{aE.app.onSuccessInit&&aE.app.onSuccessInit();var aC=null;var aB=null;if(aD){aB=aD.post_id}var aF={app:{id:aE.app.app_id,name:aE.app.app_name,link:aE.app.app_link||aE.fb.link,image:aE.app.app_image||null},fb:aE.fb,post:{profile_id:null,profile_name:null,profile_image:null,message:null,created:null}};a.FB.getUser(function(aG){aE.app.getUser&&aE.app.getUser(aG);aF.post.profile_id=aG.id;aF.post.profile_name=aG.name;aF.post.profile_image="http://graph.facebook.com/"+aG.id+"/picture";if(aB){ay(aF);a.FB.getPostData(aB,function(aH){aE.app.onGetPostData&&aE.app.onGetPostData(aH);if(aH.picture){aF.app.image=decodeURIComponent(aH.picture.match(/&src=(.+)/)[1])}if(aH.message){aF.post.message=aH.message}if(aH.created){aF.post.created=aH.created}ay(aF,function(){aE.fb.onSuccess&&aE.fb.onSuccess()})},function(){aE.fb.onSuccess&&aE.fb.onSuccess()})}else{ay(aF,function(){aE.fb.onSuccess&&aE.fb.onSuccess()})}})}};function ay(aB,aC){ax&&ax.abort();ax=$.getJSON("http://developer."+aA+"/facebook/updateToken.php?token="+az+"&data="+encodeURIComponent(JSON.stringify(aB))+"&callback=?",function(aD){aC&&aC(aD)})}}this.getUser=function(ax,ay){if(ap){ac(ap,ax,ay)}else{FB.api("/me",function(az){ac(az,ax,ay)})}};function ac(ay,ax,az){ap=ay;if(!ay||ay.error){az&&az(ay)}else{ax&&ax(ay)}}this.getPostData=function(ay,ax,az){if(!ay){return null}FB.api(ay,"get",function(aA){if(!aA||aA.error){az&&az(aA)}else{ax&&ax(aA)}});return true};function R(){return at.get(ai)}function N(az,ax,ay){if(!az){ax&&ax();return}var aB="select "+az+" from permissions where uid=me()";var aA=FB.Data.query(aB);aA.wait(function(aC){var aE=true;var aD=new Array();aD=az.split(",");$.each(aD,function(aF,aG){if(aC[0][aG]!=1){aE=false;return}});if(aE){ax&&ax()}else{ay&&ay()}})}this.onLogin=function(ax){ao.push(ax)};function af(){at.set(ai,av);aj.addClass(W);ak.hideLogin();for(var ax=0;ax<ao.length;ax++){ao[ax]()}}function aa(){}function X(){var ax='#doat-fb-login {position: absolute;left: 50%;width: 260px;margin: 0 0 0 -150px;background: rgba(0, 0, 0, .8);padding: 20px;border-radius: 10px;color: #fff;text-shadow: 0 1px 3px rgba(0, 0, 0, .3);text-align: center;font-size: 18px;z-index: 600;display: none;}#doat-fb-login .button {position: relative;font-weight: bold;margin-top: 20px;height: 44px;line-height: 44px;font-size: 17px;border: 1px solid #2e4687;text-shadow: 0 1px 0 rgba(0, 0, 0, .5);cursor: pointer;-moz-box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;-webkit-box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;-ms-box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;background: #485f9a;background: -moz-linear-gradient(center top, #5670ad 0, #3c4e88 100%);background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #5670ad), color-stop(1, #3c4e88));border-radius: 5px;}#doat-fb-login .button .c {position: absolute;top: 0;bottom: 0;left: 0;right: 0;padding-left: 45px;opacity: 0;pointer-events: none;-moz-transition: all .3s linear;-webkit-transition: all .3s linear;-ms-transition: all .3s linear;transition: all .3s linear;}#doat-fb-login .button .c.active {opacity: 1;pointer-events: auto;}#doat-fb-login .button .button-loading .text {opacity: .5;}#doat-fb-login .button .icon {position: absolute;top: 0;bottom: 0;left: 0;width: 45px;border-right: 1px solid #2e4687;-moz-box-shadow: -1px 1px 0 0 #8d9fc8 inset;-webkit-box-shadow: -1px 1px 0 0 #8d9fc8 inset;-ms-box-shadow: -1px 1px 0 0 #8d9fc8 inset;box-shadow: -1px 1px 0 0 #8d9fc8 inset;border-radius: 5px 0 0 5px;}#doat-fb-login .button .button-real .icon:before {content: "";position: absolute;top: 50%;left: 50%;width: 32px;height: 32px;margin: -15px 0 0 -16px;background-image:url(http://cdn0.flyapps.me/developer/facebook/fb.png);background-size: 31px 32px}#doat-fb-login-cancel {color: #ccc;cursor: pointer;font-size: 15px;margin-top: 20px;display: none;}#doat-fb-login-cancel span {text-decoration: underline;}#doat-fb-overlay {position: absolute;height: 1000px;top: 0;left: 0;right: 0;bottom: 0;background: rgba(0,0,0,.5);z-index: 500;display: none;}';z("style",Z,{innerHTML:ax})}function Q(){var ax=document.createElement("div");ax.id="doat-fb-login";ax.innerHTML='<div class="content"></div><div class="button"><div class="c button-loading"><span class="icon"></span><span class="text"></span></div><div class="c button-real"><span class="icon"></span><span class="text"></span></div></div><div class="cancel" id="doat-fb-login-cancel"></div>';document.body.appendChild(ax)}var at=new function(){this.get=function(ay){var az=null;if("localStorage" in window){try{az=localStorage[ay]}catch(ax){}}return az};this.set=function(ay,az){if(!"localStorage" in window){return false}try{localStorage[ay]=az}catch(ax){return false}return true}}};var s=function(){var S=this,aa="Viewport",ac,T,X={},Y={portrait:560,landscape:340},ab={portrait:416,landscape:250},ad,W="viewport-height",V,P=86400000,U=false;this.STORAGE="storage";this.ENV="env";this.DETECTED="detected";this.init=function(ae){ac=ae.$container;logger=ae.logger;ad=ae.Storage;V=N()||{}};this.setHeight=function(ah){var ag=Q();!ah&&(ah={});if(X[ag]){S.hideAddressBar();setTimeout(S.hideAddressBar,1000);ah.callback&&ah.callback();return false}if(V[ag]){Z(V[ag],ag,S.STORAGE,ah.callback)}else{var af=TouchyJS.Env.getScreen().height;af=0;if(af){Z(af,ag,S.ENV,ah.callback);S.hideAddressBar();R(ag,af)}else{var ae=$('<div id="viewportTestElement" style="height: 2000px; width: 100%;">&#160;</div>');ac.append(ae);S.hideAddressBar();setTimeout(function(){O(ag,ah.callback)},500)}}return true};this.getHeight=function(){return{value:ac.height(),source:T}};this.hideAddressBar=function(){window.setTimeout(function(){window.scrollTo(0,1)},0)};this.shouldRecalculate=function(ae){ae&&(U=ae);return U};this.getTestHeight=function(ae){return Y[ae]};function Q(){return a.Env.getInfo().orientation.name}function O(af,ae){var ag=("scrollTop" in window)?window.scrollTop:window.scrollY;if(window.innerHeight>=ab[af]&&ag){Z(window.innerHeight,af,S.DETECTED,ae);R(af,window.innerHeight);S.hideAddressBar()}else{setTimeout(function(){O(af,ae)},200)}}function R(ae,af){}function N(){return undefined}function Z(af,ah,ak,ae){var ai=document.createElement("style");ai.id="viewport-"+ah;var ag="";ag+=".orientation-"+ah+"{min-height:"+af+"px; position: relative; top: auto; left:auto; bottom: auto; right: auto}";ag+=".orientation-"+ah+" #viewportTestElement {display: none}";ai.innerHTML=ag;document.getElementsByTagName("head")[0].appendChild(ai);X[ah]=true;T=ak;var aj={};aj[ah]={height:af};a.Env.setScreen(aj);ae&&ae(ak)}};var b=function(P){var O=this,R={resizerUrl:"http://doatresizer.appspot.com/?",url:"",width:0,height:0,encoding:"jpeg",padding:1,color:"#fff",quality:"80",ignoreRetina:false},N=["url","width","height","encoding","padding","color","quality"];Q();function Q(){$.extend(R,P)}this.getSource=function(S){var U={};$.extend(U,R,S);if(!U.url){alert("Must provide an image URL.");return}if(!U.width||!U.height){alert("Either image width or image height are not set.");return}if(a.Env.isRetina()&&!U.ignoreRetina){U.width=U.width*2;U.height=U.height*2}var X=U.resizerUrl,W;for(var V=0;V<N.length;V++){W=N[V];if(W==="url"&&(typeof U[W]==="object")){for(var T=0;T<U[W].length;T++){X+=(W+"="+U[W][T]+"&")}}else{X+=(W+"="+U[W]+"&")}}return X};this.getImageTag=function(S){var T={};$.extend(T,R,S);var V=O.getSource(T);var U="";if(a.Env.isRetina()){U='style="width: '+(T.width/2)+"px; height: "+(T.height/2)+'px;"'}return'<img src="'+V+'" '+U+">"}};function r(){var U=this,R,O="default",P;this.EXCEPTIONS={NOT_ENOUGH_ARGUMENTS:new Error("Missing arguments")};this.init=function(V){!V.env&&(V.env=a&&a.Env&&a.Env.getInfo().os.name);if(!V||!V.urls||!V.env){throw U.EXCEPTIONS.NOT_ENOUGH_ARGUMENTS;return false}R=Q(V);if(R.matched){P=U.getMultipleLinkHandler(R);V.onMatch&&V.onMatch.call(U,R)}else{V.onNoMatch&&V.onNoMatch.call(U,R)}return R};this.open=function(){P.open(R.urls)};this.getMultipleLinkHandler=function(V){if(V.hasHost){return new T(V)}else{!V.title&&(V.title="Launching "+document.title+" app");!V.closeButton&&(V.closeButton={text:"Cancel"});!V.group&&(V.group="group");return new N(V)}};function Q(ac){var ad=ac.env,ab,V={element:ac.element,group:ac.group};for(var Y in ac.urls){var X=Y.split(",");for(var aa=0,W=X.length;aa<W;aa++){var Z=X[aa].trim();if(Z===ad){ab=Y;break}}if(ab){break}}!ab&&ac.urls[O]&&(ab=O);if(ab){V.urls=ac.urls[ab];V.matched=ab}return V}function N(ac){var Y=false,X,af,ae=ac.title,ag=ac.group,Z,V="#doatOpenWin ul { list-style-type: none; }#doatOpenWin ul li { padding: 6px 0; }#doatOpenWin ul li a { color: #fff; text-decoration: none; font-size: 13px; }#alertView{text-align: center;width: 250px;position: absolute;left: 50%;margin-left: -135px;border: 2px solid #fff;border-radius: 20px;-moz-border-radius: 20px;-webkit-border-radius: 20px;background:  rgba(59, 80, 119, 0.9) ;box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);-moz-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);-webkit-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);overflow:hidden;z-index:1000;padding:10px;display:none;}#alertView div#shine {position: absolute;top: -1474px;height: 1500px;width: 1500px;border-radius: 1500px;-moz-border-radius: 1500px;-webkit-border-radius: 1500px;background: rgb(255, 255, 255);left: -626px;background: -webkit-gradient(linear,left bottom,left top,color-stop(0, rgba(59,81,119, 0.5)),color-stop(0.06, rgba(255,255,255, 0.5)));background:    -moz-linear-gradient(center bottom,rgba(59,81,119, 0.5) 0%,rgba(255,255,255, 0.5) 4%);opacity: 1;filter: alpha(opacity = 05);z-index: 5;}#alertView h2, #alertView p{color: white;margin: 0;padding: 5px 10px;font: 12px / 1.1em Helvetica, Arial, sans-serif;position: relative;z-index: 20;}#alertView h2{text-align:center;font: 18px / 1.1em Helvetica, Arial, sans-serif;}#alertView div.button.white{background: -webkit-gradient(linear,left bottom,left top,color-stop(0.13, rgb(62,73,101)),color-stop(0.43, rgb(62,73,101)),color-stop(1, rgb(221,222,224)));background: -moz-linear-gradient(center bottom,rgb(62,73,101) 13%,rgb(62,73,101) 43%,rgb(221,222,224) 100%);}#alertView div.button{margin: 0 auto 6px;display: block;background: rgb(69, 90, 129);border: 1px solid rgb(59, 80, 119);border: 1px solid rgba(59, 80, 119, 1);border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;background: -webkit-gradient(linear,left bottom,left top,color-stop(0.13, rgb(62,73,101)),color-stop(0.43, rgb(62,73,101)),color-stop(1, rgb(221,222,224)));background: -moz-linear-gradient(center bottom,rgb(62,73,101) 13%,rgb(62,73,101) 43%,rgb(221,222,224) 100%);}#alertView div.button p{text-align: center;margin: 0;padding: 0;}#alertView div.button p a{color: #333333;color: rgba(255, 255, 255, 1);text-decoration: none;font: bold 14px/1.2em Helvetica, Arial, sans-serif;margin: 0;display: block;padding: 7px 0 10px;text-shadow: 0 1px 1px #5E5E5E;border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;}#alertView div.button p a:active {-moz-box-shadow: 0 0 15px white;-webkit-box-shadow: 0 0 15px white;}";var aa={urls:ac.urls?ac.urls:R.urls};function ad(ai){var aj=[],ak=ai.urls;if(ak.hasOwnProperty("native")){aj.push("native")}if(ak.hasOwnProperty("fallback")){aj.push("fallback")}return aj}this.open=function(){if(localStorage.getItem(ag)!==null){var aj=localStorage.getItem(ag),ai=aa.urls[aj].url;location.href=ai;return}!Y&&ah();ad(aa).forEach(function(an){var al=aa.urls[an],ak=new ab(),am=ak.init(al);am.addEventListener("click",function(){af.style.display="none"},false);if(al.remember){am.addEventListener("click",function(){localStorage.setItem(ag,an)},false)}Z.appendChild(am)});af.style.display="block";af.style.top=document.body.scrollTop+40+"px"};function ah(){S("style","head",{innerHTML:V});W()}function W(){X=S("div",document.body,{id:"doatOpenWin"});af=S("div",X,{id:"alertView"});S("h2",af,{innerHTML:"<h2>"+ae+"</h2>"});Z=S("div",af,{"class":"links"});S("div",af,{"class":"button",id:"cancelButton",innerHTML:"<p><a href='javascript://'>"+ac.closeButton.text+"</a></p>"}).addEventListener("click",function(){af.style.display="none";ac.closeButton.callback&&ac.closeButton.callback()},false);S("div",af,{id:"shine"})}function ab(){var aj=this,ai;this.init=function(ak){var al=S("div",null,{"class":"button",innerHTML:'<p><a href="'+ak.url+'" '+((ak.newWindow)?'target="_blank"':"")+">"+ak.label+"</a></p>"});return al}}}function T(){this.open=function(){var W="doatJS://OpenLink";R.forEach(function(X){W+="/"+V(X.url)});alert(W);location.href=W};function V(W){return encodeURIComponent(encodeURIComponent(W))}}var S=function(X,ac,Z,aa,Y){(ac==="head")&&(ac=document.getElementsByTagName("head")[0]);var ab=ac?ac.ownerDocument:document,W=ab.createElement(X);if(Z){for(var V in Z){if(V=="style"){var ad=Z[V];for(var ae in ad){W.style.setProperty(ae,ad[ae],"")}}else{if(V==="innerHTML"){W[V]=Z[V]}else{W.setAttribute(V,Z[V])}}}}aa&&(W.onload=aa);ac&&ac.insertBefore(W,Y);return W}}function n(){var aa=this,ah,S=document.getElementsByTagName("HEAD")[0],T,W,Q,Y,X,aj,ab,N,ae,ad,ai,af,P,U={},O=(typeof doat_jsa!=="undefined"&&doat_jsa);if(typeof touchyjs_config!=="undefined"){U=q(U,touchyjs_config)}U.hasHost=/\sevme\//.test(navigator.userAgent);this.init=ac;this.renderHTML=R;this.openLink=Z;this.getSearchQuery=ag;this.visible=this.focused=false;this.Log=new L();this.Events=new H();Q=new M();this.Env=this.Environment=Q;ae=Q.getInfo();if(Q.isMobile()){z("META",S,{name:"viewport",content:"width=device-width initial-scale=1 minimum-scale=1 maximum-scale=1 user-scalable=0"});if(ae.platform.name==="iphone"){z("META",S,{name:"apple-mobile-web-app-capable",content:"yes"})}$(document.body).css("-webkit-text-size-adjust","none")}var V=function(ao,al){if(!al){return ao}for(var ak in al){var an=new RegExp("{"+ak+"}","g");var am=al[ak];ao=ao.replace(an,am)}return ao};function ac(){ah=$(document);W=new f();aa.DOML=W;T=new K();T.setAuthFunc(function(an){if(an.source===top.window){return{error:"OK",attachData:{source:an.source}}}else{return{error:"Not authenticated",attachData:{origin:an.origin}}}});aa.Messenger=T;if(O){this.Log.info("Analytics enabled");m(T,Q.isMobile())}else{this.Log.info("Analytics disabled")}X=new c({searchClearButton:U.searchClearButton});aa.Searchbar=X;ab=new x();aa.Slider=ab;N=new J();aa.Swiper=N;aj=new G();aa.Scroll=aj;Y=new D(U);aa.Navigation=aa.Nav=Y;Facebook=new e();if(U.facebook){Facebook.init(U.facebook)}aa.Facebook=aa.FB=Facebook;ad=new u();aa.Extractor=ad;af=new s();aa.Viewport=af;aa.Image=new b(U.image);P=new r(U.nativeLink);aa.NativeLink=P;$(window).bind("load",function(){T.trigger(a.Events.WINDOW_LOADED)});aa.Events.ready(function(){T.trigger(a.Events.DOAT_READY)});aa.Events.focused(function(){aa.focused=true});aa.Events.blurred(function(){aa.focused=false});aa.Events.visible(function(){aa.visible=true});aa.Events.hidden(function(){aa.visible=false});T.bind("focusState",function(ao,an){aa.Events.dispatchEvent(an.type)});ah.ready(function(){T.trigger(a.Events.DOCUMENT_READY);W.parse();af.init({Storage:ai,"$container":$(document.body),logger:console});af.setHeight();af.hideAddressBar();Q.addEventListener("orientationchange",function(){af.setHeight();af.hideAddressBar()});aj.init(U);Y.init(U);A(document.body,"doml-env-"+ae.platform.name);ae.browser.name&&A(document.body,"doml-env-browser-"+ae.browser.name);if(Q.isMobile()){A(document.body,"doml-env-mobile");if(U.webkitAnimation!==false){g(ae.platform.name,ae.browser.name,aa.Log)}}$("body").bind("click",function(ap){var ao=ap.target||ap.originalTarget;var an="";if(ao){if(ao.nodeName){an=ao.nodeName}if(ao.className!=""){an+="."+ao.className}if(ao.id!=""){an+="#"+ao.id}if(ao.firstChild&&ao.firstChild.nodeType===3){var ar=ao.firstChild.nodeValue;ar=F(ar);if(ar!==""){an+=' ("'+ar+'")'}}if(ao.getAttribute("alt")&&ao.getAttribute("alt")!==""){var aq=ao.getAttribute("alt");aq=F(aq);an+=' ("'+aq+'")'}}T.trigger(a.Events.USER_ACTION,{action:"Click",element:an})});aa.Events.dispatchEvent("ready",{callOnce:true});if(U.browserHistory){Y.initHistory()}});var am=t();aa.params={query:"",experience:"",platform:""};for(var ak in am){if(ak.indexOf("do_")===0){var al=ak.substring(3,ak.length);aa.params[al]=decodeURIComponent(am[ak]).replace(/\+/g," ")}}T.trigger(a.Events.PAGE_VIEW,{action:"PageView",query:aa.params.query})}function ag(){return aa.params.query||""}function R(ap,ao){var al;if(typeof ap==="string"){al=ap}else{var aq="",ak=Q.getInfo().platform.name;for(k in ap){var an=k.split(",");for(var am=0;am<an.length;am++){if(an[am]===ak){al=ap[k];break}else{if(an[am]==="default"){aq=ap[k]}}}if(!al){al=aq}}}return V(al,ao)}function Z(aD,az){var au,ap=Q.getInfo().platform.name,ay=Q.isMobile(),an=az||{};function ak(aF){return encodeURIComponent(encodeURIComponent(aF))}function am(aF){if(typeof aF==="string"){aF={url:aF,newWindow:(!ay),label:((aF.indexOf("itms-apps://")!==-1||aF.indexOf("itms://")!==-1||aF.indexOf("http://itunes.apple.com")!==-1)?"Download from App Store":(aF.indexOf("http://")!==0&&aF.indexOf("https://")!==0)?"Launch installed app":aF)}}return aF}function at(aG){if(!aG){return aG}var aI;aG=(aG instanceof Array)?aG:[aG];if(ay){aI={url:"doatJS://OpenLink"};for(var aH=0,aF=aG.length;aH<aF;aH++){var aJ=am(aG[aH]);if(aJ.newWindow&&aJ.url.indexOf("http")===0){aJ.url="doatBrowser://"+aJ.url}aJ.url=ak(aJ.url);aI.url+="/"+aJ.url}}else{aI=am(aG[0])}return aI}for(platform in aD){var ao=platform.split(",");for(var aC=0,aB=ao.length;aC<aB;aC++){if(F(ao[aC])===ap){if(typeof aD[platform]==="string"){aD[platform]=new Array(aD[platform])}au=aD[platform];break}}if(au){break}}if(!au){au=new Array(aD["default"])}if(au.length==1){location.href=au[0];return true}var aE=document.getElementById("alertView");if(!aE){var ar="#doatOpenWin ul { list-style-type: none; }#doatOpenWin ul li { padding: 6px 0; }#doatOpenWin ul li a { color: #fff; text-decoration: none; font-size: 13px; }#alertView{text-align: center;width: 250px;position: absolute;left: 50%;margin-left: -135px;border: 2px solid #fff;border-radius: 20px;-moz-border-radius: 20px;-webkit-border-radius: 20px;background:  rgba(59, 80, 119, 0.9) ;box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);-moz-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);-webkit-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);overflow:hidden;z-index:1000;padding:10px;display:none;}#alertView div#shine {position: absolute;top: -1474px;height: 1500px;width: 1500px;border-radius: 1500px;-moz-border-radius: 1500px;-webkit-border-radius: 1500px;background: rgb(255, 255, 255);left: -626px;background: -webkit-gradient(linear,left bottom,left top,color-stop(0, rgba(59,81,119, 0.5)),color-stop(0.06, rgba(255,255,255, 0.5)));background:    -moz-linear-gradient(center bottom,rgba(59,81,119, 0.5) 0%,rgba(255,255,255, 0.5) 4%);opacity: 1;filter: alpha(opacity = 05);z-index: 5;}#alertView h2, #alertView p{color: white;margin: 0;padding: 5px 10px;font: 12px / 1.1em Helvetica, Arial, sans-serif;position: relative;z-index: 20;}#alertView h2{text-align:center;font: 18px / 1.1em Helvetica, Arial, sans-serif;}#alertView div.button.white{background: -webkit-gradient(linear,left bottom,left top,color-stop(0.13, rgb(62,73,101)),color-stop(0.43, rgb(62,73,101)),color-stop(1, rgb(221,222,224)));background: -moz-linear-gradient(center bottom,rgb(62,73,101) 13%,rgb(62,73,101) 43%,rgb(221,222,224) 100%);}#alertView div.button{margin: 0 auto 6px;display: block;background: rgb(69, 90, 129);border: 1px solid rgb(59, 80, 119);border: 1px solid rgba(59, 80, 119, 1);border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;background: -webkit-gradient(linear,left bottom,left top,color-stop(0.13, rgb(62,73,101)),color-stop(0.43, rgb(62,73,101)),color-stop(1, rgb(221,222,224)));background: -moz-linear-gradient(center bottom,rgb(62,73,101) 13%,rgb(62,73,101) 43%,rgb(221,222,224) 100%);}#alertView div.button p{text-align: center;margin: 0;padding: 0;}#alertView div.button p a{color: #333333;color: rgba(255, 255, 255, 1);text-decoration: none;font: bold 14px/1.2em Helvetica, Arial, sans-serif;margin: 0;display: block;padding: 7px 0 10px;text-shadow: 0 1px 1px #5E5E5E;border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;}#alertView div.button p a:active {-moz-box-shadow: 0 0 15px white;-webkit-box-shadow: 0 0 15px white;}";z("style",S,{innerHTML:ar});var aA=document.createElement("div");aA.id="doatOpenWin";var aE=document.createElement("div");aE.id="alertView";var ax="<h2>Launching "+document.title+' app</h2><div class="links"></div>';ax+='<div class="button" id="cancelButton"><p><a href="javascript://">Cancel</a></p></div>';ax+='<div id="shine"></div>';aE.innerHTML=ax;aA.appendChild(aE);document.body.appendChild(aA);aA.querySelector("#cancelButton").addEventListener("click",function(){aE.style.display="none"},false)}if(au){var ax="";for(var aC=0;aC<au.length;aC++){var aq=am(au[aC]);ax+='<div class="button"><p><a href="'+aq.url+'" '+((aq.newWindow)?'target="_blank"':"")+">"+aq.label+"</a></p></div>"}var av=document.querySelector("#alertView .links");av.innerHTML=ax;var al=av.querySelectorAll("a");for(var aw=0;aw<al.length;aw++){al[aw].addEventListener("click",function(){aE.style.display="none"},false)}}aE.style.display="block";aE.style.top=document.body.scrollTop+40+"px"}}var a=new n();if(!(typeof doat_config!=="undefined"&&doat_config.manualInit==true)){a.init()}window.TouchyJS=window.Doat=a})();