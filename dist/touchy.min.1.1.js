(function(){function o(Q,W,U,X,S){var V=W?W.ownerDocument:document;var P=V.createElement(Q);if(U){for(var O in U){if(O=="style"){var Z=U[O];for(var aa in Z){P.style.setProperty(aa,Z[aa])}}else{P[O]=U[O]}}}if(X&&Q=="script"){var R=false;var Y=function(){if(R){return}R=true;X()};P.onload=Y;P.onreadystatechange=function(){if(this.readyState=="loaded"){Y()}}}if(W){try{W.insertBefore(P,S)}catch(T){W.insertBefore(P)}}return P}function D(){var O={};(location.search||"").replace(/([^=^&^?]+)=([^&]*)/g,function(R,Q,P){O[Q]=P});return O}function s(S,Q,R){var O=function(V,T,U){V[U]=function(){return T[U].apply(T,arguments)}};for(var P in R){O(S,Q,R[P])}}function f(O){if(!O){return O}var Q=O.length,S=[],R={};while(Q--){var P=O[Q];if(!R[P]){R[P]=true;S.push(P)}}return S}function A(Q,P){Q=Q||{};for(var O in P){Q[O]=P[O]}return Q}function z(Q,O){var P=Q.className;O=P!==""?" "+O:O;Q.className+=O}function a(O){if(O.trim){return O.trim()}else{return O.replace(/^\s+|\s+$/g,"")}}var d=function(){function P(){if(/http:\/\/.+\.(loc)\.flyapps\.me\//.test(location.href)||/http:\/\/loc\.flyapps\.me\//.test(location.href)||/http:\/\/.+test\.flyapps\.me\//.test(location.href)){return N.DEBUG}else{if(/http:\/\/.+\.(stg|test)\.flyapps\.me\//.test(location.href)){return N.INFO}else{if(/http:\/\/.+\.flyapps\.me\//.test(location.href)){return N.ERROR}}}return N.DEBUG}function O(){var Q=D()["doatloggeroutput"];if(Q){switch(Q){case"console":return N.consoleLogger;break;case"inline":return N.writeLogger;break;case"alert":return N.alertLogger;break;case"popup":return N.popupLogger;break;default:if(window[Q]){return window[Q]}}}return N.consoleLogger}return new N(P(),O())};function h(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=document}var Q=arguments[0],P=arguments[1],O=arguments[2];if(typeof Q.addEventListener!=="undefined"){Q.addEventListener(P,O,false)}else{if(Q.attachEvent){Q.attachEvent("on"+P,O,false)}}}function e(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=document}var Q=arguments[0],P=arguments[1],O=arguments[2];if(typeof Q.removeEventListener!=="undefined"){Q.removeEventListener(P,O,false)}else{if(Q.detachEvent){Q.detachEvent("on"+P,O)}}}var j=function(O,Q){var P;for(P in Q){if(typeof(O[P])=="undefined"){return false}}for(P in Q){if(Q[P]){switch(typeof(Q[P])){case"object":if(!Q[P].equals(O[P])){return false}break;case"function":if(typeof(O[P])=="undefined"||(P!="equals"&&Q[P].toString()!=O[P].toString())){return false}break;default:if(Q[P]!=O[P]){return false}}}else{if(O[P]){return false}}}for(P in O){if(typeof(Q[P])=="undefined"){return false}}return true};function u(P,O){if(typeof O!=="undefined"){P=A(P,O)}if(P.os){var Q=l.Env.getInfo().os.name;if(P.os.hasOwnProperty(Q)){P=A(P,P.os[Q])}}return P}function M(){var R=[],O={},P=function(){return{error:"OK"}};this.bind=U;this.unbind=V;this.trigger=Q;this.attach=T;this.setAuthFunc=S;h(window,"message",W);function W(X){var ac=P(X);if(ac.error==="OK"){var ab=JSON.parse(X.data);ab=A(ab,ac.attachData);var Z=R[ab.msnEventType];if(Z){var ae={source:X.source,type:ab.msnEventType};delete ab.msnEventType;var ad=ab;for(var Y=0;Y<Z.length;Y++){var aa=Z[Y];aa(ae,ad)}}}}function U(Z,ab){Z=(Z instanceof Array)?Z:[Z];for(var X in Z){var aa=Z[X];var Y=R[aa];if(!Y){R[aa]=Y=[]}Y.push(ab)}}function V(Z,aa){if(!aa){R[Z]=null}else{for(var X=R[Z],Y=X?X.length-1:-1;Y>=0;--Y){if(X[Y]===aa){X.splice(Y,1);return}}}}function Q(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=window.parent}var Y=arguments[0];var X=arguments[2]||{};X.msnEventType=arguments[1];X=A(X,O);Y.postMessage(JSON.stringify(X),"*")}function T(X){O=X}function S(X){P=X}}function b(X,V){var T=l.Log||new d();var R=new g();R.load(T);if(V){var P=new B();P.load(T)}X.bind([l.Events.USER_ACTION,l.Events.PAGE_VIEW],W);X.bind([l.Events.WINDOW_LOADED,l.Events.RENDER_END],S);X.bind(l.Events.NO_RESULTS,O);X.bind([l.Events.RENDER_END,l.Events.NO_RESULTS],function(Y,Z){X.unbind(l.Events.RENDER_END,S);if(P){P.report(Y.type)}});X.bind(l.Events.SEARCH_ERROR,U);function O(Y,Z){R.report(["_trackEvent","Tracing",Y.type,Z.query])}function U(Y,Z){T.error("Error getting search results "+JSON.stringify(Z));O(Y,Z)}function W(Y,ab){var aa;switch(ab.action){case"Navigate":aa="/"+ab.to;aa+=(ab.title)?"/"+ab.title.replace("/","-"):"";break;case"Search":case"PageView":var Z=ab.newQuery||ab.query;ab.page=ab.page||"search";aa="/"+ab.page;aa+=(Z)?"/"+Z.replace("/","-"):"";break;default:return false}R.report(["_trackPageview",aa]);return true}function S(Y){var Z=-1;if(typeof doat_ts!=="undefined"){Z=new Date().getTime()-doat_ts}R.report(["_trackEvent","Tracing",Y.type,Q(Z),Z])}function Q(Z){var Y;for(Y=0;Y<=5;Y++){if(Z/1000<Y){return"under "+Y+" sec"}}return"over "+(Y-1)+" sec"}}function g(){var O,Q,P;if(/loc\.flyapps\.me/.test(location.host)){O="UA-16876190-2";Q=".loc.flyapps.me"}else{if(/test\.flyapps\.me/.test(location.host)){O="UA-16876190-8";Q=".test.flyapps.me"}else{if(/stg\.flyapps\.me/.test(location.host)){O="UA-16876190-7";Q=".stg.flyapps.me"}else{if(/flyapps\.me/.test(location.host)){O="UA-16876190-4";Q=".flyapps.me"}}}}this.report=function(S){try{_gaq.push(S);var T=(!_gaq.length)?"GA object":"temp array";P.info("Pushed event to _gaq ("+T+") -> "+JSON.stringify(S))}catch(R){P.error("An error occured when performing _gaq.push ("+JSON.stringify(S)+")")}};this.load=function(S){P=S;var R=(typeof doat_appName=="undefined")?location.host.split(".")[0]:doat_appName;_gaq=(typeof _gaq!=="undefined")?_gaq:[];_gaq.push(["_setAccount",O],["_setDomainName",Q],["_setCustomVar",1,"appname",R]);P.info('Loading GA for account "'+O+'" under domain "'+Q+'" with appname "'+R+'"');o("script",document.getElementsByTagName("HEAD")[0],{type:"text/javascript",src:(("https:"==document.location.protocol)?"https://ssl.":"http://www.")+"google-analytics.com/ga.js",async:"true"})}}function B(){var O;this.load=function(P){O=P};this.report=function(Q,R){var P="doatJS://report/"+Q;O.info('Reporting to native app -> "'+P+'"')}}function N(T,P,R){var S=N.WARN;var Q=N.writeLogger;var O=false;this._isMobileBrowser=N.isMobileBrowser();this.setPrefix=function(U){if(U!="undefined"){O=U}else{O=false}};this.setLogger=function(W){if(W!="undefined"){Q=W}if(W===N.writeLogger){var V=document.createElement("div");V.id="logger";V.style.backgroundColor="white";V.style.position="fixed";V.style.top="100px";V.style.left="0";V.style.zIndex="20";V.style.overflow="scroll";V.style.height="400px";document.body.appendChild(V);var U=document.createElement("a");U.innerHTML="clear";U.href="javascript://";U.addEventListener("click",function(){loggerList.innerHTML=""},false);V.appendChild(U);loggerList=document.createElement("ul");V.appendChild(loggerList)}};this.setLevel=function(U){if(U!="undefined"&&typeof U=="number"){S=U}else{if(U!="undefined"){if(U=="debug"){S=N.DEBUG}else{if(U=="info"){S=N.INFO}else{if(U=="error"){S=N.ERROR}else{if(U=="fatal"){S=N.FATAL}else{if(U=="warn"){S=N.WARN}else{S=N.NONE}}}}}}}};this.getPrefix=function(){return O};this.getLogger=function(){return Q};this.getLevel=function(){return S};if(T!="undefined"){this.setLevel(T)}if(P!="undefined"){this.setLogger(P)}if(R!="undefined"){this.setPrefix(R)}}N.prototype.debug=function(){if(this.getLevel()<=N.DEBUG){this._log("DEBUG",this,arguments)}};N.prototype.info=function(){if(this.getLevel()<=N.INFO){this._log("INFO",this,arguments)}};N.prototype.warn=function(){if(this.getLevel()<=N.WARN){this._log("WARN",this,arguments)}};N.prototype.error=function(){if(this.getLevel()<=N.ERROR){this._log("ERROR",this,arguments)}};N.prototype.fatal=function(){if(this.getLevel()<=N.FATAL){this._log("FATAL",this,arguments)}};N.prototype._log=function(P,V,O){var R=new Date();var X="";X+=((R.getHours()<10)?"0"+R.getHours():R.getHours());X+=":"+((R.getMinutes()<10)?"0"+R.getMinutes():R.getMinutes());X+=":"+((R.getSeconds()<10)?"0"+R.getSeconds():R.getSeconds());X+="."+((R.getMilliseconds()<100)?((R.getMilliseconds()<10)?"00"+R.getMilliseconds():"0"+R.getMilliseconds()):R.getMilliseconds());var Q=[],S="("+X+")";if(this._isMobileBrowser){var T=S+" ";for(var U=0,W=O.length;U<W;U++){T+=" "+O[U]}Q=[T]}else{Q=["("+X+")"];for(U in O){Q.push(O[U])}}this.getLogger()(P,V,Q)};N.DEBUG=1;N.INFO=2;N.WARN=3;N.ERROR=4;N.FATAL=5;N.NONE=6;N.alertLogger=function(Q,P,O){alert(Q+" - "+O.join(" "))};N.writeLogger=function(S,R,P){var O=document.createElement("li");O.innerHTML=S+"&nbsp;:&nbsp;"+P.join(" ");var Q=loggerList.getElementsByTagName("li")[0];loggerList.insertBefore(O,Q)};N.consoleLogger=function(R,Q,P){if(window.console){try{window.console[R.toLowerCase()].apply(window.console,P)}catch(O){try{window.console[R.toLowerCase()](P)}catch(O){window.console.log(R+":"+P)}}}};N.popupLogger=function(V,S,Q){var U=Q.join(" ");if(S.popupBlocker){return}if(!S._window||!S._window.document){S._window=window.open("","logger_popup_window","width=420,height=320,scrollbars=1,status=0,toolbars=0,resizable=1");if(!S._window){S.popupBlocker=true;alert("You have a popup window manager blocking the log4js log popup display.\n\nThis must be disabled to properly see logged events.");return}if(!S._window.document.getElementById("loggerTable")){S._window.document.writeln("<table width='100%' id='loggerTable'><tr><th align='left'>Level</th><th width='100%' colspan='2' align='left'>Message</th></tr></table>");S._window.document.close()}}var R=S._window.document.getElementById("loggerTable");var T=R.insertRow(-1);var P=T.insertCell(-1);var O=T.insertCell(-1);P.style.fontSize="8pt";O.style.fontSize="8pt";O.style.whiteSpace="nowrap";O.style.width="100%";if(R.rows.length%2==0){P.style.backgroundColor="#eeeeee";O.style.backgroundColor="#eeeeee"}P.innerHTML=V;O.innerHTML=U};N.dumpObject=function(S,O){if(!O){O=""}if(O.length>20){return}var Q="{\n";for(var R in S){Q+=O+R+":";var P=typeof(S[R]);P=P.toLowerCase();if(P=="object"){Q+=N.dumpObject(S[R],O+"----")}else{Q+=S[R]}Q+="\n"}Q+=O+"}";return Q};N.isMobileBrowser=function(P){!P&&(P=navigator.userAgent);P=P.toLowerCase();var O=/(iphone|ipad|android|symbian|webos|windows phone os)/.exec(P)||[];return O[1]};var n=function(){var U=this,Q=navigator,S="everything",R="extractor",P="extractor_config",T="sites",O;this.init=function(){var V=window[P]=window[P]||{};O=V[T]=V[T]||[]};this.set=function(W){!(W instanceof Array)&&(W=[W]);for(var V=0;V<W.length;V++){O.push(W[V])}};this.getItems=function(){var V=Q[S][R].getItems?Q[S][R].getItems():"NOT IMPLEMENTED";return V};U.init()};function E(){var R="http://doatresizer.appspot.com/?url={src}&width={width}&height={height}&cache=short&crop={crop}&default={default}",Q={searchbar:{type:"replace",html:'<form id="tml-searchbar-form" onsubmit="TouchyJS.Searchbar.submitFunc({onsubmit}); return false;" ><input type="text" data-defaulttext="{defaulttext}" onfocus="TouchyJS.Searchbar.clearValue(\'{defaulttext}\')" onblur="TouchyJS.Searchbar.fillValue(\'{defaulttext}\')" id="tml-searchbar-searchfield" name="searchfield" style="{style}" data-clearbutton={clearbutton}/></form>'},searcharea:{type:"replace",html:'<form id="tml-searchbar-form" onsubmit="TouchyJS.Searchbar.submitFunc({onsubmit}); return false;" ><textarea onfocus="TouchyJS.Searchbar.clearValue(\'{defaulttext}\')" onblur="TouchyJS.Searchbar.fillValue(\'{defaulttext}\')" id="tml-searchbar-searchfield" name="searchfield" style="{style}" clearbutton={clearbutton}>{defaulttext}</textarea></form>'},navigate:{type:"replace",html:'<a href="javascript://" class="{class}" onclick="TouchyJS.Navigation.goTo(\'{to}\')"><span>{label}</span></a>'},image:{type:"image",html:'<img src="'+R+'" alt="{alt}" />'}},T="tml",U={autoinit:"false"};var S=/\{([^}]*)\}/g;var O=function(W,X){var V={};return X?(""+X).replace(S,function(Y,Z){if(!V.hasOwnProperty(Z)){V[Z]=W.getAttribute(Z)?W.getAttribute(Z):U.hasOwnProperty(Z)?U[Z]:""}return V[Z]}):X};var P=function(V,X){if($(V).replaceWith){$(V).replaceWith($(X))}else{var W=$(X)[0];V.parentNode.replaceChild(W,V)}};this.parse=function(W){!W&&(W=document.body);for(var Z in Q){if(Q.hasOwnProperty(Z)){var V=T+":"+Z;var Y=W.getElementsByTagName(V);for(var X=0;X<Y.length;X++){var aa=O(Y[X],Q[Z].html);P(Y[X],aa);X--}}}};this.getImage=function(V){var W=new function(X){this.getAttribute=function(Y){return X[Y]}}(V);return O(W,R)}}function K(T){var X=this,W,U,P=T&&T.isTouch||("ontouchstart" in window);var Q=function(aa){aa=(aa||navigator.userAgent).toLowerCase();W={};W.platform=V(aa);W.browser=R(aa);W.os=Z(aa);W.orientation=S.getNew();W.screen=O.get(aa);W.connection=Y.get()};var V=function(ac){var ad="",ab="",aa;aa=/(iphone|ipad)|(android|htc_)|(symbian)|(webos)|(blackberry|playbook|windows phone os)|(mobile;)/.exec(ac)||[,"desktop"];ad=aa[1]||aa[2]&&"android"||aa[3]&&"nokia"||aa[4]&&"hp"||aa[5]&&""||aa[6]&&"mozilla";return{name:ad,version:ab}};var Z=function(ac){var ad="",ab="",aa;aa=/(iphone|ipad)|(android|htc_)|(symbian|webos)|(blackberry|playbook)|(windows phone os)|(mobile;)/.exec(ac)||[];ad=aa[1]&&"ios"||aa[2]&&"android"||aa[3]||aa[4]&&"blackberry"||aa[5]&&"windowsphoneos"||aa[6]&&"firefoxos";if(!ad){aa=/(Win32)|(Linux)|(MacIntel)/.exec(navigator.platform)||[];ad=aa[1]&&"windows"||aa[2]||aa[3]&&"mac"||""}switch(ad){case"ios":ab=/os\s([\d_]+)\slike/.exec(ac);ab=ab[1].replace(/_/g,".");break;case"android":ab=/android\s([\d\.\-]+)[^;]*;/.exec(ac);ab=ab&&ab[1]&&ab[1].replace(/-/g,"");break}return{name:ad,version:ab}};var R=function(ac){var ad,ab="",aa;ac=ac.toLowerCase();aa=/(webkit)(?:[\/]|.+fbforiphone)/.exec(ac)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(ac)||/(msie) ([\w.]+)/.exec(ac)||ac.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(ac)||[];ad=aa[1]||"";return{name:ad,version:ab}};this.getScreen=function(){return O.get()};this.setScreen=function(aa){return O.set(aa)};this.clearScreen=function(aa){return O.clear(aa)};this.setOrientation=function(aa){S.set(aa)};this.isTouch=function(){return P};this.isMobile=function(ab){var aa=X.getInfo(ab).platform.name;return T&&T.isTouch||/^(iphone|ipad|android|nokia|blackberry|mozilla)$/.test(aa)};this.isRetina=function(){return window.devicePixelRatio>1};this.getInfo=function(){if(arguments[0]||!W){var aa=(arguments[0]===true)?undefined:arguments[0];Q(aa)}return W};this.addEventListener=function(){if(typeof arguments[0]==="string"){arguments[2]=arguments[1];arguments[1]=arguments[0];arguments[0]=document}var aa=arguments[0],ah=arguments[1],ac=arguments[2],af=P?"touchstart":"mousedown",ag=P?"touchmove":"mousemove",ai=P?"touchend":"mouseup";switch(ah){case"orientationchange":S.onOrientationChange(ac);break;case"swipeX":h(aa,"swipeX",ac);break;case"touch":var ae,ad,ab=false;h(aa,af,function(aj){aj=aj.originalEvent||aj;ae={type:"start",position:{x:aj.touches?aj.touches[0].pageX:aj.clientX,y:aj.touches?aj.touches[0].pageY:aj.clientY}};ac(aj,ae);ab=true});h(document,ag,function(aj){if(!ab){return false}aj=aj.originalEvent||aj;ad={type:"move",position:{x:aj.touches?aj.touches[0].pageX:aj.clientX,y:aj.touches?aj.touches[0].pageY:aj.clientY}};ad.delta={x:ad.position.x-ae.position.x,y:ad.position.y-ae.position.y};ac(aj,ad)});h(document,ai,function(ak){ab=false;if(!ad||ad.delta.x===0&&ad.delta.y===0){return false}ak=ak.originalEvent||ak;var aj={type:"end",position:ad.position,delta:ad.delta,swipeEvent:true,direction:(ad.delta.x>0)?"ltr":"rtl"};ac(ak,aj);ad=undefined});break}};var S=new function(){var aj=this,aa,ai="orientation-",ag=new RegExp(ai+"[^\\s]+","g"),af=[],ad="orientation" in window;if(window.addEventListener){window.addEventListener((ad)?"orientationchange":"resize",ah,false);document.addEventListener("DOMContentLoaded",ah,false)}this.set=ah;this.getCurrent=function(){return aa||aj.getNew()};this.getOtherName=function(ak){return ak==="portrait"?"landscape":"portrait"};this.getNew=function(){var ak=(ad)?window.orientation:aj.getOrientationByWindowSize();return ae(ak)};this.getOrientationByWindowSize=function(){return(window.innerHeight>window.innerWidth)?0:90};this.onOrientationChange=function(ak){af.push(ak)};function ah(al){var ak=(al&&!(al.type))?ae(al):aj.getNew();if(!aa||ak.degree!==aa.degree){aa=ak;ab();ac()}}function ac(){af.forEach(function(ak){ak(aa)})}function ae(am){var ak,al;if(typeof am==="String"){ak=am;al=(am=="landscape")?90:0}else{al=am;ak=(Math.abs(am)==90)?"landscape":"portrait"}return{name:ak,degree:al}}function ab(){var ak=ai+aa.name;if(aa.degree==90){ak+=" "+ai+"landscape-right"}else{if(aa.degree==-90){ak+=" "+ai+"landscape-left"}}document.body.className=document.body.className.replace(ag,"")+" "+ak}};S.onOrientationChange(function(){W.orientation=S.getCurrent();W.screen=O.get()});var O=new function(){var ab=this,aa;function ad(ak,ah){!ak&&(ak=navigator.userAgent);ak=ak.toLowerCase();var ae=V(ak).name;var aj=Z(ak).name;var ai=["","","",""];if(/^(iphone|ipod)$/.test(ae)){if((S.getCurrent().name=="portrait"&&window.screen.height==568)||(S.getCurrent().name=="landscape"&&window.screen.width==568)){var ag=64,af=53;ai=[320,568-ag,568,320-af]}else{ai=[320,416,480,267]}}else{if(ae=="desktop"){ai=[320,416,480,267]}else{if(aj=="android"){if(/nexus s/.test(ak)){ai=[320,508,508,295]}else{if(/gt-9000/.test(ak)){ai=[320,508,508,320]}else{if(/sonyericssonr800a/.test(ak)){ai=[320,544,544,320]}else{if(/htc desire s/.test(ak)){ai=[320,533,533,320]}}}}}else{if(aj=="windowsphoneos"){ai=[295,486,"",""]}}}}aa={portrait:{width:ai[0],height:ai[1]},landscape:{width:ai[2],height:ai[3]}}}function ac(af){var ae;if(window.innerWidth<=window.outerWidth&&window.innerWidth!==aa[S.getOtherName(af)].width){ae=window.innerWidth}return ae}this.set=function(ag){for(var ae in ag){for(var af in ag[ae]){aa[ae][af]=ag[ae][af]}}};this.get=function(af){var ae=S.getCurrent().name;if(af||!aa){ad(af)}!aa[ae].width&&(aa[ae].width=ac(ae));return aa[ae]};this.clear=function(ae){var af={};af[ae]={height:"",width:""};ab.set(af)}};var Y=new function(){var af=this,ab,ad={SPEED_UNKNOWN:100,SPEED_HIGH:30,SPEED_MED:20,SPEED_LOW:10},ac=[{name:undefined,speed:ad.SPEED_UNKNOWN},{name:"etherenet",speed:ad.SPEED_HIGH},{name:"wifi",speed:ad.SPEED_HIGH},{name:"2g",speed:ad.SPEED_LOW},{name:"3g",speed:ad.SPEED_MED}];this.get=function(){return aa()};this.set=function(ag){ab=ag||(navigator.connection&&navigator.connection.type)||0;return aa()};function aa(){return ae({},ad,ac[ab])}function ae(){var ah=arguments[0];for(var aj=1,ag=arguments.length;aj<ag;aj++){for(var ai in arguments[aj]){ah[ai]=arguments[aj][ai]}}return ah}af.set()}}(function(){var U,Q,R="doat_onLocationRetrieved_"+new Date().getTime(),O=(typeof l!="undefined"&&l&&l.Log)||new d();K.prototype.getLocation=function(ad,Y){U=ad;if(!Y||!Y.testProps){if(Y&&Y.request){O.info("Specific params requested for location",Y.request);var Z=D(),V={},ac=false,aa=false,X=(Y.request.constructor===String)?[Y.request]:Y.request;for(var W=0;W<X.length;W++){var ab="do_loc_"+X[W];if(Z[ab]){V[X[W]]=decodeURIComponent(Z[ab]);O.info("found "+ab);aa=true}else{O.info("could not find "+X[W]+" in querystring");ac=true;if(!Y.allowOneFound){break}}}if(!ac||(Y.allowOneFound&&aa)){O.info("found required location data in querystring");U(P(V));return true}else{O.info("Couldnt find required location data in querystring")}}if(this.isMobile()){navigator.geolocation.getCurrentPosition(function(ae){T(ae)},function(ae){U(ae)})}else{S(null,"http://geoip.pidgets.com/")}}else{if(Y&&Y.testProps&&Y.testProps.position){T(Y.testProps.position)}}};window[R]=function(V){V=P(V);U(V)};function T(V){var W="select * from geo.places where woeid in (select place.woeid from flickr.places where lat="+V.coords.latitude+" and  lon="+V.coords.longitude+")";S(W);Q=V}function S(Z,W){if(document.getElementById("doatenvlocationdata")){var V=document.getElementById("doatenvlocationdata");V.parentNode.removeChild(V)}var aa=(W)?W+"?":"http://query.yahooapis.com/v1/public/yql?q="+encodeURIComponent(Z)+"&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys";aa+="&format=json&callback="+R;var X=document.getElementsByTagName("head")[0];var Y=document.createElement("script");Y.setAttribute("id","doatenvlocationdata");Y.setAttribute("src",aa);X.appendChild(Y)}function P(W){var V={};if(W){if(W.latitude&&W.longitude){W.lat=W.latitude;W.lon=W.longitude}if(W.lat&&W.lon){V.position={coords:{latitude:W.lat,longitude:W.lon}}}if(W.query){if(W.query.results&&W.query.results.place){var X=W.query.results.place;V.city=X.locality1&&X.locality1.content;V.country=X.country&&X.country.content;V.zip=X.postal&&X.postal.content}}else{if(W.country_name){V.city=W.city;V.country=W.country_name}else{A(V,W)}}}if(!V.position&&Q){V.position=Q;Q=undefined}return V}})();var w=function(){var O=this,Q={};this.addEventListener=function(T,R){var S=Q[T];if(!S){Q[T]={callbacks:[],enabled:false};S=Q[T]}S.callbacks.push(R);if(S.enabled&&S.callOnce){P(R)}};this.dispatchEvent=function(V,T){var S=Q[V];if(!S){Q[V]={callbacks:[],enabled:true};S=Q[V]}else{var R=S.callbacks.length;for(var U=0;U<R;++U){P(S.callbacks[U])}}if(T){A(S,T)}};var P=function(R){R()};this.ready=function(R){O.addEventListener("ready",R)};this.focused=function(R){O.addEventListener("focused",R)};this.blurred=function(R){O.addEventListener("blurred",R)};this.hidden=function(R){O.addEventListener("hidden",R)};this.visible=function(R){O.addEventListener("visible",R)};this.NO_RESULTS="no results";this.RENDER_START="render start";this.RENDER_END="render end";this.RENDER_VISIBLE_END="render visible end";this.SEARCH_START="search request";this.SEARCH_END="search response success";this.SEARCH_ERROR="search response error";this.WINDOW_LOADED="window loaded";this.DOAT_READY="doat ready";this.DOCUMENT_READY="document ready";this.USER_ACTION="user action";this.PAGE_VIEW="page view";this.ready(function(){Q.ready.enabled=true});this.focused(function(){Q.focused.enabled=true;Q.visible.enabled=Q.hidden.enabled=Q.blurred.enabled=false});this.visible(function(){Q.visible.enabled=true;Q.focused.enabled=Q.hidden.enabled=Q.blurred.enabled=false});this.hidden(function(){Q.hidden.enabled=true;Q.focused.enabled=Q.visible.enabled=Q.blurred.enabled=false});this.blurred(function(){Q.blurred.enabled=true;Q.focused.enabled=Q.visible.enabled=Q.hidden.enabled=false})};!function(W,Y,O){var S=["webkit","Moz","ms","O"],ad={},ac;function U(ae,ah){var af=Y.createElement(ae||"div"),ag;for(ag in ah){af[ag]=ah[ag]}return af}function V(af){for(var ae=1,ag=arguments.length;ae<ag;ae++){af.appendChild(arguments[ae])}return af}var X=function(){var ae=U("style",{type:"text/css"});V(Y.getElementsByTagName("head")[0],ae);return ae.sheet||ae.styleSheet}();function Q(ai,ae,aj,am){var af=["opacity",ae,~~(ai*100),aj,am].join("-"),ag=0.01+aj/am*100,al=Math.max(1-(1-ai)/ae*(100-ag),ai),ak=ac.substring(0,ac.indexOf("Animation")).toLowerCase(),ah=ak&&"-"+ak+"-"||"";if(!ad[af]){X.insertRule("@"+ah+"keyframes "+af+"{0%{opacity:"+al+"}"+ag+"%{opacity:"+ai+"}"+(ag+0.01)+"%{opacity:1}"+(ag+ae)%100+"%{opacity:"+ai+"}100%{opacity:"+al+"}}",X.cssRules.length);ad[af]=1}return af}function ab(ah,ai){var ag=ah.style,ae,af;if(ag[ai]!==O){return ai}ai=ai.charAt(0).toUpperCase()+ai.slice(1);for(af=0;af<S.length;af++){ae=S[af]+ai;if(ag[ae]!==O){return ae}}}function T(ae,ag){for(var af in ag){ae.style[ab(ae,af)||af]=ag[af]}return ae}function aa(ag){for(var ae=1;ae<arguments.length;ae++){var af=arguments[ae];for(var ah in af){if(ag[ah]===O){ag[ah]=af[ah]}}}return ag}function Z(ae){var af={x:ae.offsetLeft,y:ae.offsetTop};while((ae=ae.offsetParent)){af.x+=ae.offsetLeft,af.y+=ae.offsetTop}return af}var R={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:1/4,fps:20,zIndex:2000000000,className:"spinner",top:"auto",left:"auto",position:"relative",animations:true};var P=function P(ae){if(!this.spin){return new P(ae)}this.opts=aa(ae||{},P.defaults,R)};P.defaults={};aa(P.prototype,{spin:function(al){this.stop();var ap=this,ae=ap.opts,af=ap.el=T(U(0,{className:ae.className}),{position:ae.position,width:0,zIndex:ae.zIndex}),ao=ae.radius+ae.length+ae.width,aq,an;if(al){al.insertBefore(af,al.firstChild||null);an=Z(al);aq=Z(af);T(af,{left:(ae.left=="auto"?an.x-aq.x+(al.offsetWidth>>1):parseInt(ae.left,10)+ao)+"px",top:(ae.top=="auto"?an.y-aq.y+(al.offsetHeight>>1):parseInt(ae.top,10)+ao)+"px"})}af.setAttribute("aria-role","progressbar");ap.lines(af,ap.opts);if(!ac&&this.opts.animations){var ai=0,ag=ae.fps,ak=ag/ae.speed,aj=(1-ae.opacity)/(ak*ae.trail/100),am=ak/ae.lines;(function ah(){ai++;for(var ar=ae.lines;ar;ar--){var at=Math.max(1-(ai+ar*am)%ak*aj,ae.opacity);ap.opacity(af,ae.lines-ar,at,ae)}ap.timeout=ap.el&&setTimeout(ah,~~(1000/ag))})()}return ap},stop:function(){var ae=this.el;if(ae){clearTimeout(this.timeout);if(ae.parentNode){ae.parentNode.removeChild(ae)}this.el=O}return this},lines:function(ah,aj){var ag=0,ae;function ai(ak,al){return T(U(),{position:"absolute",width:(aj.length+aj.width)+"px",height:aj.width+"px",background:ak,boxShadow:al,transformOrigin:"left",transform:"rotate("+~~(360/aj.lines*ag+aj.rotate)+"deg) translate("+aj.radius+"px,0)",borderRadius:(aj.corners*aj.width>>1)+"px"})}var af={};for(;ag<aj.lines;ag++){af={position:"absolute",top:1+~(aj.width/2)+"px",transform:aj.hwaccel?"translate3d(0,0,0)":"",opacity:aj.opacity};if(this.opts.animations){af.animation=ac&&Q(aj.opacity,aj.trail,ag,aj.lines)+" "+1/aj.speed+"s linear infinite"}ae=T(U(),af);if(aj.shadow){V(ae,T(ai("#000","0 0 4px #000"),{top:2+"px"}))}V(ah,V(ae,ai(aj.color,"0 0 1px rgba(0,0,0,.1)")))}return ah},opacity:function(af,ae,ag){if(ae<af.childNodes.length){af.childNodes[ae].style.opacity=ag}}});(function(){function ae(ah,ag){return U("<"+ah+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',ag)}var af=T(U("group"),{behavior:"url(#default#VML)"});if(!ab(af,"transform")&&af.adj){X.addRule(".spin-vml","behavior:url(#default#VML)");P.prototype.lines=function(ai,ah){var ag=ah.length+ah.width,ao=2*ag;function an(){return T(ae("group",{coordsize:ao+" "+ao,coordorigin:-ag+" "+-ag}),{width:ao,height:ao})}var aj=-(ah.width+ah.length)*2+"px",am=T(an(),{position:"absolute",top:aj,left:aj}),al;function ak(aq,ap,ar){V(am,V(T(an(),{rotation:360/ah.lines*aq+"deg",left:~~ap}),V(T(ae("roundrect",{arcsize:ah.corners}),{width:ag,height:ah.width,left:ah.radius,top:-ah.width>>1,filter:ar}),ae("fill",{color:ah.color,opacity:ah.opacity}),ae("stroke",{opacity:0}))))}if(ah.shadow){for(al=1;al<=ah.lines;al++){ak(al,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)")}}for(al=1;al<=ah.lines;al++){ak(al)}return V(ai,am)};P.prototype.opacity=function(ah,ag,aj,ai){var ak=ah.firstChild;ai=ai.shadow&&ai.lines||0;if(ak&&ag+ai<ak.childNodes.length){ak=ak.childNodes[ag+ai];ak=ak&&ak.firstChild;ak=ak&&ak.firstChild;if(ak){ak.opacity=aj}}}}else{ac=ab(af,"animation")}})();if(typeof define=="function"&&define.amd){define(function(){return P})}else{W.Spinner=P}}(window,document);var q=function(){var ag=l,ao="tml_",al=ag.Env.isMobile(),ah,aj,aA,T={},V={},aa,ae=true,ax=false,an,ac,am=[],af=false,X,Y;var az=ag.Env.getInfo().browser.name||ag.Env.getInfo().browser;aa=az==="webkit"?"-webkit-":az==="mozilla"?"-moz-":"";var aw=function(aC){aC&&(T=A(T,aC));var aD=document.querySelector(".tml_content");an=T.firstPageId||aD&&aD.id};var P=function(){var aD=arguments;var aE=(typeof aD[0]==="string")?aD[0]:aD[0].get?aD[0].get(0).getAttribute("id"):aD[0].getAttribute("id"),aG=aD[1],aF=(typeof aD[2]==="string")?aD[2].toLowerCase():"oncomplete",aC=(typeof aD[2]==="string")?aD[3]:aD[2];V[aE]=V[aE]||{};V[aE][aF]=V[aE][aF]||{};V[aE][aF][aG]=aC};var S=function(aL,aM,aF){!aM&&(aM=R().urlParams);if(!aL||ax){return false}ax=true;var aK=(aL.constructor===String)?$("."+ao+"content#"+aL):$(aL);if(!aF){Z(aK,aM)}if(ah[0].id==aK[0].id&&ah.css("display")=="block"){ar(aK,aM);return false}else{if(aM&&aM.transition=="none"){var aH={left:"0%",display:"block"};aH[aa+"transition-duration"]="0";aH[aa+"transform"]="translateX(0)";aK.css(aH);var aD={display:"none"};if("outElementStyle" in aM){for(var aG in aM.outElementStyle){aD[aG]=aM.outElementStyle[aG]}}ah.css(aD);ar(aK,aM)}else{if(aM&&aM.transition=="fade"){ah.css("z-index",2);if(al){aK.css(aa+"transition-duration","0");aK.css(aa+"transform","translateX(0)")}else{aK.css("left",0)}aK.css("display","block");ah.css(aa+"transition","opacity 0.5s linear").css("opacity",0);setTimeout(function(){ah.css("display","none").css(aa+"transition-duration","0").css({"z-index":1,opacity:1});ar(aK,aM)},200)}else{var aJ=aM&&aM.direction||ad(aK),aC=(aJ==="rtl")?"100%":"-100%",aE=(aJ==="rtl")?"-100%":"100%";if(al){aK.css(aa+"transition-duration","0");aK.css(aa+"transform","translateX("+aC+")")}else{aK.css("left",aC)}aK.css("display","block");setTimeout(function(){aK.animate({left:"0%"});ah.animate({left:aE},200,"ease",function(){ar(aK,aM)})},200)}}}if(!aM||aM.muteEventReport!==true){var aI={action:"Navigate",to:aK[0].id};if(aM&&aM.title){aI.title=aM.title.replace("/","-")}if(aM&&aM.id&&aM.id.replace){aI.id=aM.id.replace("/","-")}if(ag.Messenger){ag.Messenger.trigger(ag.Events.USER_ACTION,aI)}}l.Viewport.hideAddressBar();return true};var ai=function(){if(Y){var aC=R().firstPage;if(aC){au(an,{direction:"ltr"})}else{history.back()}}else{au(aj,{muteEventReport:true})}l.Viewport.hideAddressBar()};var au=function(aG,aF,aH){!aF&&(aF={});if(Y){aG.constructor!==String&&(aG=$(aG)[0].id);var aC=R().urlParams;if(aF.url){for(var aD in aF.url){aC[aD]=aF.url[aD]}delete aF.url}aC.topage=aG;if(j(aC,aB())){return false}var aJ=[];for(var aD in aC){if(!(aD==="topage"&&aC[aD]===an)){var aI=(aC[aD]!==undefined)?aC[aD]:"";aJ.push(aD+"="+aI)}}var aE="?"+aJ.join("&");A(aF,{firstPage:false,urlParams:aC});window.history.pushState(aF,null,aE)}S.apply(this,arguments)};var Q=function(aD,aE){var aC=ah.next();if(aC&&aC.hasClass("tml_content")){au(aC,aD,aE)}};var aq=function(aC,aE){var aD=ah.prev();if(aD&&aD.hasClass("tml_content")){au(aD,aC,aE)}};var Z=function(aC,aD){var aF=ah[0].id,aE=aC[0].id;A(aD,{currentElement:ah[0],nextElement:aC[0]});W(aD,["*","onstart","in"]);W(aD,[aE,"onstart","in"]);if(aF!=aE){W(aD,[aF,"onstart","out"])}W(aD,aD,["onStart"])};var ar=function(aC,aD){var aF=ah[0].id,aE=aC[0].id;aj=ah;ah=aC;A(aD,{currentElement:ah[0],nextElement:aj[0]});W(aD,["*","oncomplete","in"]);W(aD,[aE,"oncomplete","in"]);if(aF!=aE){aj.css("display","none");W(aD,[aF,"oncomplete","out"])}W(aD,aD,["onComplete"]);ax=false};var W=function(aG,aH,aF){var aD=true;if(!aF){aF=aH;aH=V}if(!aH){return false}for(var aE=0,aC=aF.length;aE<aC;aE++){aH=aH[aF[aE]];if(!aH){aD=false;break}}aD&&aH(aG)};var ad=function(aC){var aD=at(aC);var aE=(aD&&aD!==""&&aD!=="none")?(aD==="translateX(-100%)"):(aC.get(0).style.left==="-100%");return aE?"ltr":"rtl"};var at=function(aD){var aC=aD.css(aa+"transform"),aE=aD[0].style[aa+"transform"];return aC&&aC!==""&&aC!=="none"?aC:aE};var ab=function(aC){if(aC.constructor===String){ah=$("#"+aC)}else{ah=$(aC)}!an&&(an=aC.id)};var av=function(){return ah[0]};var O=function(){if(ah&&aA!==ah[0].offsetHeight){aA=ah[0].offsetHeight;return aA}return false};var ak=function(aE){if(aE&&aE.state){var aD=ay(aE);var aC=aD.urlParams.topage||an;S(aC,aD)}};var U=function(){var aC=aB(),aF=aC.topage||an,aD={transition:"none",outElementStyle:{}};if(l.Env.isMobile()){aD.outElementStyle[aa+"transform"]="translateX(-100%)"}else{aD.outElementStyle["left"]="-100%"}var aE=R();if(!aE||aE.firstPage===undefined){aE={firstPage:true,urlParams:aC};ay({state:aE});window.history.replaceState(aE,null)}A(aD,{firstPage:true,urlParams:aC});S(aF,aD)};var ap=function(){Y=true;window.addEventListener("popstate",ak,false);U()};var aB=function(){var aD=D();for(var aC in aD){aD[aC]=decodeURIComponent(aD[aC])}return aD};var R=function(){var aD={};if(X){for(var aC in X){aD[aC]=X[aC]}}return aD};var ay=function(aC){return X=aC&&aC.state};return{init:aw,initHistory:ap,goTo:au,next:Q,previous:aq,back:ai,attachCallback:P,bind:P,setCurrent:ab,getCurrent:av,hasNewContentHeight:O,Indicator:new y(),getCurrentHistoryState:R}};function y(){var R,T,P,U={lines:10,length:7,width:3,radius:7,color:"#ffffff",speed:1.4,trail:72,shadow:true,parent:document.body},O={position:"absolute",left:"50%",top:"50%","z-index":200};var S=function(X){var V={};for(i in U){V[i]=U[i]}for(i in X){V[i]=X[i]}var W=X.parent||$(document.body);$mainEl=W.children(".doml-progress-indicator");if($mainEl.length===0){$mainEl=$('<span class="doml-progress-indicator" />');$mainEl.css(O);W.append($mainEl)}P=$mainEl[0];T=new Spinner(V);T.spin(P)};var Q=function(){$mainEl=$('<span class="doml-progress-indicator" />');$mainEl.css(O);$(document.body).append($mainEl);P=$mainEl[0];R=new Spinner(U)};this.show=function(V){if(V){S(V)}else{if(!R){Q()}R.spin(P)}};this.hide=function(){if(T){T.stop()}if(R){R.stop()}}}var L=function(X){var ak=this,T,Z,ah,aa,ad=[],ao=[],O="tml-searchbar-keyboard-visible",af,ag="default";this.clearValue=P;this.fillValue=V;this.setValue=R;this.getInputElement=W;this.submitFunc=Q;this.blur=al;this.focus=ae;this.onKeyboardVisible=ac;this.onKeyboardHidden=Y;l.Events.ready(an);function an(){T=document.getElementById("tml-searchbar-searchfield");if(T){ah=$(document.body);aa=document.getElementById("tml-searchbar-form");ak.submit=aa.onsubmit;af=T.getAttribute("data-defaulttext");T.addEventListener("focus",U,false);T.addEventListener("blur",ab,false);T.addEventListener("touchstart",function(){l.Viewport.hideAddressBar()},false);if(X&&X.searchClearButton){ai(X)}R("");l.Nav.bind("*","in","onstart",function(aq){if(!aq||!aq.urlParams){return}var ap=aq.urlParams.do_query||"";R(ap)})}}function ai(ap){if(W().getAttribute("data-clearbutton")!==""){Z=new x();var aq=ap&&ap.css||{};!aq.left&&(aq.left=T.offsetWidth);buttonEl=Z.init({css:aq,onClick:function(){R("",true);ae()}});var ar=W().parentNode;ar.style.position="relative";ar.appendChild(buttonEl)}}function P(){T.className="";if(!af){return}if(S()===af){R("",true)}}function V(){if(!af){return}if(S()===""){R(af)}}function Q(ap){l.Viewport.hideAddressBar();if(S()!==""&&S()!==af){ap&&ap()}al()}function ae(){T.focus()}function al(){T.blur()}function ac(ap){ad.push(ap)}function Y(ap){ao.push(ap)}function R(aq,ap){if(!ap&&!aq){aq=af||""}if(af){T.className=ag}T.value=aj(aq)}function S(){return aj(T.value)}function W(){return T}function am(){l.Messenger.trigger(l.Events.USER_ACTION,{action:"Search",newQuery:S()});al()}function U(){l.Viewport.hideAddressBar();ah.addClass(O);P();for(var aq=0,ap=ad.length;aq<ap;aq++){ad[aq].call(T)}}function ab(){ah.removeClass(O);V();for(var aq=0,ap=ao.length;aq<ap;aq++){ao[aq].call(T)}}function aj(ap){return ap.replace(/\+/g," ")}this.getValue=function(){var ap=S();return ap!==af?ap:""}};function x(){var P,O={position:"absolute",top:"5px",cursor:"pointer","background-color":"#BBBBBB",width:"16px",height:"16px","text-align":"center","line-height":"17px","border-radius":"8px","-webkitborder-radius":"8px","-moz-border-radius":"8px",color:"white","font-weight":"bold","font-size":"12px","font-family":"arial","text-shadow":"none",leftOffset:-19};this.init=function(Q){for(i in Q.css){O[i]=Q.css[i]}O.left=O.left+O.leftOffset+"px";P=$("<span/>");P.addClass("tml-searchbar-clear").html("X").css(O).click(function(R){R.preventDefault();Q.onClick()});return P[0]};this.show=function(){P.show()};this.hide=function(){P.hide()}}var c=function(){var ai,X,ag,af,ab,Z,ah,U,Y,V,P,ad,aa;this.init=function(al){var ao;if(al&&al.id&&document.getElementById(al.id)){ao=$("#"+al.id)}else{return false}if(typeof l!=="undefined"){X=l.Env.isMobile();var ak=l.Env.getInfo().browser;ag=ak==="webkit"?"-webkit-":ak==="mozilla"?"-moz-":""}else{X=true}V=al.trackWidth;aa=al.onSelect;ah=X?"touchstart":"mousedown";U=X?"touchmove":"mousemove";Y=X?"touchend":"mouseup";ai=$('<div class="doml-slider" />');ao.parent().append(ai);ai.append(ao);var ap=[];ao.children().each(function(){var aq=$("<div/>");$(this).appendTo(aq);ap.push(aq.html())});itemArrLength=ap.length;ad=V/itemArrLength;var aj=$('<div class="wrapper">');aj.css("width",V+"px");ai.append(aj);$eventCaptureEl=$('<div class="eventCapture" />');$eventCaptureEl.css("width",V+"px");$eventCaptureEl.bind(ah,S,false);document.addEventListener(Y,O,false);aj.append($eventCaptureEl);handleWrapper=new ac();var am=handleWrapper.init();aj.append(am);Z=new R();var an=Z.init(ap);am.append(an);return true};var S=function(ak){document.addEventListener(U,T,false);var al=ae(ak);var aj=Q(al);if(aj!==P){P=aj;Z.update(P)}handleWrapper.update(al,P);Z.show()};var T=function(ak){ak.preventDefault(ak);var al=ae(ak);if(al<=V&&al>=0){var aj=Q(al);if(aj!==P){P=aj;Z.update(P)}handleWrapper.onTouchMove();handleWrapper.update(al,P)}};var O=function(aj){handleWrapper.onTouchEnd();document.removeEventListener(U,T);var ak=W(P);handleWrapper.update(ak);Z.hide();if(aa){aa(P)}};var Q=function(ak){var aj=(ak/V)*itemArrLength;aj=parseInt(aj,10);return aj};var ae=function(aj){aj=aj.touches&&aj.touches[0]||aj.originalEvent&&aj.originalEvent.touches&&aj.originalEvent.touches[0]||aj;return aj.clientX};var W=function(aj){return aj*ad};function ac(){var aj;this.init=function(al){aj=$('<div class="handle_wrapper"><div class="handle"/></div>');return aj};this.update=function(al){ak(al)};this.onTouchMove=function(){aj.addClass("dragged")};this.onTouchEnd=function(){aj.removeClass("dragged")};var ak=function(al){aj.css(ag+"transform","translateX("+al+"px)")}}function R(){var ak=this;var al,aj,an,am;this.init=function(ao){am=ao;al=$('<div class="preview"/>');aj=$('<div class="content"/>');al.append(aj);an=$('<span class="indicator"/>');al.append(an);ak.hide();return al};this.show=function(){al.addClass("displayed")};this.update=function(ao){aj.html(am[ao]);an.html(ao+1+" of "+am.length)};this.hide=function(){al.removeClass("displayed")}}};function F(){var ak=null,Y=null,W=null,aa=null;var Z=0,X=0,V=false,T=true,U=false;var O=320,S=0,ae=5,ah=0,Q=null;var ai="0.5",P=4000;var ab=this;this.init=function(am){am=am||{};ak=am.element||null;Y=am.navElement||null;W=am.itemsElement||null;aa=am.onSelect||null;am.itemWidth&&(O=am.itemWidth);am.thumbWidth&&(S=am.thumbWidth);am.numVisibleThumbs&&(ae=am.numVisibleThumbs);am.animationSpeed&&(ai=am.animationSpeed);am.autoplay&&(typeof am.autoplay=="number")&&(P=am.autoplay);T=(typeof am.stopAutoplayOnTouch=="boolean")?am.stopAutoplayOnTouch:true;U=(typeof am.thumbsSwipe=="boolean")?am.thumbsSwipe:false;onHitStartArr=[],onHitEndArr=[],onHitStart=function(){onHitStartArr.forEach(function(an){an.apply(arguments)})};onHitEnd=function(){onHitEndArr.forEach(function(an){an.apply(arguments)})};am.onHitStartCallback&&onHitStartArr.push(am.onHitStartCallback);am.onHitEndCallback&&onHitEndArr.push(am.onHitEndCallback);ah=W.find("li").length;ac();ad();if(Y){var al=Y.find("li");al.click(function(){ab.setItemByThumb(this)});$(al[0]).addClass("active")}ag();if(am.autoplay){ab.autoplayStart();if(am.stopAutoplayOnFocus){l.Events.focused(function(){ab.autoplayStop()});l.Events.blurred(function(){ab.autoplayStart()})}}};function ad(){var al=W.parent().get(0);l.Env.addEventListener(al,"touch",function(an,am){switch(am.type){case"start":aj(W);T&&ab.autoplayStop();break;case"move":ab.move(am.delta.x);break;case"end":if(!am.swipeEvent){ab.showCurrentItem()}else{an=an.originalEvent||an;an.preventDefault();R(W);if(am.direction=="rtl"){ab.next()}else{ab.prev()}}break}});if(Y&&U){al=Y.parent().get(0);l.Env.addEventListener(al,"touch",function(an,am){switch(am.type){case"start":aj(Y);T&&ab.autoplayStop();break;case"move":ab.moveTabs(am.delta.x);break;case"end":if(!am.swipeEvent){ab.showCurrentItem(true)}else{an=an.originalEvent||an;an.preventDefault();R(Y);if(am.direction=="rtl"){ab.nextTabs()}else{ab.prevTabs()}}break}})}$(document).bind("keyup",function(am){if(V){switch(am.keyCode){case 36:T&&ab.autoplayStop();ab.setItem(0);break;case 35:T&&ab.autoplayStop();ab.setItem(ah-1);break;case 39:T&&ab.autoplayStop();ab.next();break;case 37:T&&ab.autoplayStop();ab.prev();break}}})}function ac(){af(ak);af(Y);af(W);W.parent().css({width:O+"px",overflow:"hidden"});W.find("li").css({"float":"left",width:O+"px"});W.css({width:(O*ah)+"px","list-style-type":"none",overflow:"hidden"});if(Y&&S!==0){Y.css({width:(S*ah)+"px","list-style-type":"none",overflow:"hidden"})}}this.autoplayStart=function(){if(Q!==null){ab.autoplayStop()}Q=setInterval(function(){ab.next(true)},P)};this.autoplayStop=function(){clearInterval(Q);Q=null};this.show=function(al){if(al&&al.delay){setTimeout(ag,al.delay)}else{ag()}};this.hide=function(){ak.hide();V=false};function ag(){ak.show();V=true}this.removeItem=function(an){var am=(typeof an=="number")?W.children()[an]:an;var al=ab.index(am);$(am).remove();Y&&$(Y.children()[al]).remove();ah--;if(Z==al){Z--;if(Z<=0){Z=0}}ab.showCurrentItem()};this.move=function(al){W.css({"-webkit-transform":"translate("+-(Z*O-al)+"px)","-moz-transform":"translate("+-(Z*O-al)+"px)",transform:"translate("+-(Z*O-al)+"px)"})};this.moveTabs=function(al){Y&&Y.css({"-webkit-transform":"translate("+-(X*S-al)+"px)","-moz-transform":"translate("+-(X*S-al)+"px)",transform:"translate("+-(X*S-al)+"px)"})};this.prev=function(){Z--;if(Z<0){Z=0;onHitStart()}ab.showCurrentItem()};this.next=function(al){Z++;if(Z==ah){Z=(al)?0:ah-1;onHitEnd()}ab.showCurrentItem()};this.prevTabs=function(){X-=ae;if(X<=0){X=0}ab.showCurrentItem(true)};this.nextTabs=function(){X+=ae;if(X>=ah-ae){X=ah-ae}ab.showCurrentItem(true)};this.setItemByThumb=function(al){ab.setItem(ab.index(al))};this.getCurrent=function(){return Z};this.index=function(an){an=$(an);var al=an.parent().children();for(var am=0;am<al.length;am++){if(al[am]==an[0]){return am}}return -1};this.setItem=function(al){Z=al;ab.showCurrentItem()};this.showCurrentItem=function(ao){var an=(ao&&Y)?Y:W;var al=(ao&&Y)?-(X*S):-(Z*O);R(an);an.css({"-webkit-transform":"translate("+al+"px)","-moz-transform":"translate("+al+"px)",transform:"translate("+al+"px)"});aa&&aa(Z);W.find(".active").removeClass("active");$(W.children("li")[Z]).addClass("active");if(Y){Y.find(".active").removeClass("active");$(Y.children("li")[Z]).addClass("active")}if(!ao){var am=Math.floor(Z/ae)*ae;if(am!=X){X=am;ab.showCurrentItem(true)}}};function aj(al){al.css({"-moz-transition":"-moz-transform 0s","-webkit-transition":"-webkit-transform 0s",transition:"transform 0s"})}function R(al){al&&al.css({"-moz-transition":" -moz-transform "+ai+"s ease-out","-webkit-transition":"-webkit-transform "+ai+"s ease-out",transition:"transform "+ai+"s ease-out"})}function af(al){al&&al.css({"-webkit-transform":"translate3d(0px, 0px, 0px) rotate(0deg) scale(1)","-webkit-box-sizing":"border-box","-webkit-backface-visibility":"hidden"})}}function H(){var V=this,aa,W,P,O,ac,U=[],X,ad,Q=document.getElementsByTagName("head")[0],S={vScrollbar:true,hScroll:false,useTransform:false},R;var Z=function(){var ag=$("."+P);return(ag.length>0)};var ab=function(){if(ae()){aa.Log&&aa.Log.info(aa.Env.getInfo().platform+" "+aa.Env.getInfo().version+" has fixed positioning so using position: fixed");ad.css({position:"fixed",top:0,left:0,width:"100%","z-index":2});$contents.css({top:ad.get(0).offsetHeight+"px",height:"auto","z-index":1})}else{aa.Log&&aa.Log.info(aa.Env.getInfo().platform+" "+aa.Env.getInfo().version+" has NO fixed positioning so using iScroll");if(U.length==0){document.body.addEventListener("touchmove",function(az){},false)}for(var at=0,au=$contents.length;at<au;at++){var ag=$contents[at];var ay=$(ag);var ap=ag.getAttribute("id");if(U[ap]){U[ap].refresh.call(U[ap])}else{if(!(R.disableIScroll&&R.disableIScroll[ap])){ay.css({visibility:"hidden",display:"block"});var ax={};for(k in S){ax[k]=S[k]}var ai=$(ag).children("*");var ao=ai.length===1;if(!ao){var aj=document.createElement("div");aj.className=W+"created";aj.style.width="100%";for(var at=0,au=ag.children.length;at<au;at++){alert(ag.children[at]);aj.appendChild(ag.children[at])}ag.appendChild(aj)}else{ai[0].style.width="100%"}if(R.pullToRefresh===ap){var aw="touchy-pulldown",am="touchy-pulldown-icon",aq="touchy-pulldown-flip",an="touchy-pulldown-loading",ah="touchy-pulldown-label",ar={pull:"Pull down to refresh...",release:"Release to refresh...",loading:"Loading..."};var ak="#"+aw+" {     background:#000000;     height:40px;     line-height:40px;     padding:5px 10px;     font-weight:bold;     font-size:14px;     color:#888888;     visibility:hidden}#"+aw+" ."+am+" {     display:block; float:left;     width:40px; height:40px;     background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFAAAACgCAMAAACsXRuGAAAAt1BMVEX////FxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcXFxcU7SVrkAAAAPHRSTlMAAPONxyCMRvCjM2n59gzeD/xssVo52Akwh6sDpeTbckJLZroqfhUnRernVxifG9XDgb2ZzzxjeLThEmBcLCjmAAACDklEQVR4Xu2Y124yQQyFM9sh9BJafgik956/7fs/V4RCwiITbMdjCSGfKy4On7THnuLZ8yGTyRWUr1W54NgNIC4Dbm+VrQ+tbQxoQAMa0IAGnO4vtR44WBquCcBuJadrSslwQucNaBm2qbyHEQ3YqNN4l3fUKpdpMV7Q26ZF4T3S+5AU49OIA8RjvLpxDCAeY/PIcYB4jKf8tTzcxDt2fGBt/D3v19kPgK5fRQLkAt0MCZANdIdIgGxg7WBjgHygO1kTY/NVMla8QeBvJwHCGP84CRDG+PefBAhjrHTlo9n/InDiY9a7XfLazgewd//Jqze8AN15sAiw7Gu87XwAW/7m5ec5b+j8AXsveT6uSYAwxmrf7xNBZ+aYQJPJZDLh+20aRlkWhen8twdgnCyO0SCJfQDjUv6lUuwBmOQFJXJgGhSBQSoGhvmKQnFNo1VgBD3MmmarwAx6WDWFQOhh1RR+MvSwagqLwqw7/ndW3UkfCD2bhJcAephAvJGYn4y3OrMouIfZNriH19i4h7v0cI9ww4ce4ZEEPTt6/uJ+UdS4H28G1C9qV9yPLyjUL1vyuB/dlLh+dNtE/dpA+SdrF0XeNsqNLV96+puDfPvaaukfUvJjVP+gl19F9C9L8uuc/oVTfiXWv7TLxwr9wUc+msmHR/3xVj6A6z8RSBej/jMLp+76T1X6j2m7eP6aTO9STHV4CXebKAAAAABJRU5ErkJggg%3D%3D); 0 0 no-repeat;     -webkit-background-size:40px 80px; background-size:40px 80px;     -webkit-transition-property:-webkit-transform;     -webkit-transition-duration:250ms;     -webkit-transform:rotate(0deg) translateZ(0);}#"+aw+"."+aq+" ."+am+" {     -webkit-transform:rotate(-180deg) translateZ(0);}#"+aw+"."+an+" ."+am+" {     background-position:0 100%;     -webkit-transform:rotate(0deg) translateZ(0);     -webkit-transition-duration:0ms;     -webkit-animation-name:"+an+";     -webkit-animation-duration:2s;     -webkit-animation-iteration-count:infinite;     -webkit-animation-timing-function:linear;}@-webkit-keyframes "+an+" {     from { -webkit-transform:rotate(0deg) translateZ(0); }     to { -webkit-transform:rotate(360deg) translateZ(0); }}";o("style",Q,{type:"text/css",innerHTML:ak});var al='<div id="'+aw+'">    <span class="'+am+'"></span>    <span class="'+ah+'">'+ar.pull+"</span></div>";ai.prepend(al);$pullDownElement=$("#"+aw);$pullDownLabelClass=$pullDownElement.find("."+ah);pullDownOffset=$pullDownElement[0].offsetHeight;var av={onRefresh:function(){$pullDownElement.css("visibility","visible");$pullDownElement.removeAttr("class");$pullDownLabelClass.html(ar.pull)},onScrollMove:function(){if(this.y>5&&!$pullDownElement.hasClass(aq)){$pullDownElement.addClass(aq);$pullDownLabelClass.html(ar.release);this.minScrollY=0}else{if(this.y<5&&$pullDownElement.hasClass(aq)){$pullDownElement.removeAttr("class");$pullDownLabelClass.html(ar.pull);this.minScrollY=-pullDownOffset}}},onScrollEnd:function(){if($pullDownElement.hasClass(aq)){$pullDownElement.removeAttr("class");$pullDownLabelClass.html(ar.loading);if(doat_config.pullToRefreshCB){doat_config.pullToRefreshCB()}U[ap].refresh.call(U[ap]);$pullDownElement.parent().css("-webkit-transform","translate3d(0px, -"+pullDownOffset+"px, 0px) scale(1)")}},topOffset:pullDownOffset,useTransition:true,useTransform:true};for(k in av){ax[k]=av[k]}}U[ap]=new iScroll(ap,ax);ay.bind("touchstart",{id:ap},function(az){var aA=az.data.id;U[aA].refresh.call(U[aA])});ay.css({display:"none",visibility:"visible"})}}}}};this.init=function(ag){R=ag;X=$(document.body);aa=window.TouchyJS;W="tml_";P=W+"content";O=W+"header";ac=W+"scrollable";$contents=X.find("."+P);aa.Env.addEventListener("orientationChange",T);if($contents.length>0){T($contents);var ah=R.displayContent||0,ai=$contents[ah];$(ai).css("display","block");aa.Nav.setCurrent(ai)}};function Y(){if(aa.config("hideAddressBar")){document.body.removeEventListener("touchstart",Y);var ag=aa.Nav.getCurrent();$(ag).css("height",window.screen&&window.screen.availHeight+"px"||"1000px");window.scrollTo(0,0);setTimeout(function(){V.refreshAll()},1000)}}function T(ah){ah=ah&&ah.length?ah:X.children("."+P);ad=ad||X.children("."+O);var ag=ad.length?ad[0].offsetHeight:0,ai=window.innerHeight-parseInt(X.css("margin-top"),10)-parseInt(X.css("margin-bottom"),10)-ag;ah.css({width:"100%",position:"absolute",top:ag+"px"});if(R.fixedPositioning){ab(R.fixedPositioning==="capableOnly")}}this.refresh=function(ah,ag){ah=ah||aa.Nav.getCurrent().getAttribute("id");if(ag){$("#"+ah).children("*").css("height",ag+"px")}if(U[ah]){U[ah].refresh()}};this.refreshAll=function(){T()};this.scrollTo=function(ai){var ag=aa.Nav.getCurrent(),ah=ag.getAttribute("id");if(U[ah]){U[ah].scrollTo(0,ai,0)}else{ag.scrollTop=ai}};this.disable=function(){var ag=aa.Nav.getCurrent(),ah=ag.getAttribute("id");if(U[ah]){U[ah].disable()}};this.enable=function(){var ag=aa.Nav.getCurrent(),ah=ag.getAttribute("id");if(U[ah]){U[ah].enable()}};var ae=function(){if(!aa.Env.isMobile()){return true}var ag=aa.Env.getInfo();p=ag.platform,v=ag.version;if(p==="iphone"||p==="ipad"){return af(v,"5")}else{if(p==="android"){return af(v,"2.2")}}return false};function af(ak,aj){var ai=ak.split(".");var ah=aj.split(".");for(var ag=0;ag<ai.length;++ag){if(ah.length==ag){return true}if(ai[ag]==ah[ag]){continue}else{if(parseInt(ai[ag],10)>parseInt(ah[ag],10)){return true}else{return false}}}if(ai.length!=ah.length){return false}return true}}function t(P,V,U){U&&U.info("platform="+P);var O=document.body.style.animationName,S=["Webkit","Moz","O","ms","Khtml"];if(!O){for(var T=0;T<S.length;T++){if(document.body.style[S[T]+"AnimationName"]!==undefined){CSS_PREFIX="-"+S[T].toLowerCase()+"-";O=true;break}}}if(!O){return false}var Q=["scale","rotate","skew","translate","matrix"];W();$.fn.fadeIn=function(){var Z=r(arguments);return $(this).animate({opacity:1},Z.dur,Z.ease,Z.cb)};$.fn.fadeOut=function(){var Z=r(arguments);return $(this).animate({opacity:0},Z.dur,Z.ease,Z.cb)};$.fn.animate=function(){var ah=this;var ac,af,Z,ab,ae=[];for(var ad=1;ad<arguments.length;ad++){var ag=arguments[ad];if(typeof ag==="function"){ae.push(ag)}else{if(ag==="fast"||ag==="slow"){Z=ag}else{if(typeof ag==="string"){ab=ag}else{Z=ag}}}}af=arguments[0];af[CSS_PREFIX+"transform"]="";for(ac in af){var aa;if(af[ac].toString().indexOf("=")!==-1){af[ac]=Y(ah,ac,af[ac])}if(R(ac)){af[CSS_PREFIX+"transform"]+=ac+"("+af[ac]+")";delete af[ac]}else{if(ac==="left"||ac==="right"){aa=(ac==="right")?X(af[ac]):af[ac];af[CSS_PREFIX+"transform"]+="translateX("+aa+")";delete af[ac]}else{if(ac==="bottom"||ac==="top"){aa=(ac==="bottom")?X(af[ac]):af[ac];af[CSS_PREFIX+"transform"]+="translateY("+aa+")";delete af[ac]}}}}Z=(Z==="fast")?0.2:(Z==="slow")?0.6:Z/1000||0.3;ab=(!ab||ab==="swing")?"ease-in-out":ab;if(ae.length>0){setTimeout(function(){var aj,ai=ae.length;for(aj=0;aj<ai;aj++){ae[aj].call(ah)}},Z*1000)}af[CSS_PREFIX+"transition"]="all "+Z+"s "+ab;return ah.css(af)};function R(Z){for(var aa=0;aa<Q.length;aa++){if(Z.indexOf(Q[aa])!==-1){return true;break}}return false}function X(Z){Z=Z.toString();return(Z.indexOf("-")===0)?Z.substring(1,Z.length):"-"+Z}function Y(aa,ad,ac){var ag=(ac.indexOf("-=")!==-1)?-1:1;ac=ac.toString();var Z=parseInt(ac.substring(2,ac.length),10).toString();var ab=ac.substring(2+Z.length,ac.length);var af=aa.css(ad);af=(af&&af!=="")?parseInt(af,10):0;var ae=af+(ag*Z)+ab;return ae}function W(){var Z={};if(P!=="android"){Z[CSS_PREFIX+"transform"]="translate3d(0px, 0px, 0px) rotate(0deg) scale(1)";Z[CSS_PREFIX+"box-sizing"]="border-box";Z[CSS_PREFIX+"backface-visibility"]="hidden";U&&U.info("Including cfg['"+CSS_PREFIX+"transform'] = 'translate3d(0px, 0px, 0px) rotate(0deg) scale(1)'")}else{U&&U.info("not including cfg['"+CSS_PREFIX+"transform'] = 'translate3d(0px, 0px, 0px) rotate(0deg) scale(1)'")}$(".doml_content").css(Z)}}function r(P){var R={};for(var Q=0;Q<P.length;Q++){var O=P[Q];if(typeof O==="function"){R.cb=O}else{if(O==="fast"||O==="slow"){R.dur=O}else{if(typeof O==="string"){R.ease=O}else{R.dur=O}}}}return R}var C=function(){var al=this,U={},aa=document.getElementsByTagName("head")[0],ak=$(document.body),ax=null,ai=null,V=null,P=null,am=null,ac=false,W=textConnect=textConnecting=null,Q=null;var an=false,aq=null,ap=[];var af=null,at=null,aj="isFBUser",Z="",ae=1,aw=2,av="doml-facebook",X="doml-facebook-loggedin";var ah={textDialog:"Welcome<br />Please login",textConnect:"Login with Facebook",textConnecting:"Connecting..."};this.init=function(ay,az){ay&&(U=ay);if(an||(!az&&!U.login&&!S())){return}af=U.appId;at=U.channel||"http://"+window.location.hostname+"/channel.php";W=U.textDialog||ah.textDialog;textConnect=U.textConnect||ah.textConnect;textConnecting=U.textConnecting||ah.textConnecting;Z=U.namespace||"";Y();R();$elLoginCancel=$("#doat-fb-login-cancel");ax=$("#doat-fb-login");V=ax.find(".button");am=V.find(".button-loading");P=V.find(".button-real");ax.find(".content").html(W);P.find(".text").html(textConnect);am.find(".text").html(textConnecting);V.bind("touchstart",function(aA){aA.preventDefault();aA.stopPropagation();al.login()});ai=$('<div id="doat-fb-overlay"></div>');ak.append(ai);ai.bind("touchstart",function(aA){aA.preventDefault();aA.stopPropagation()});ak.addClass(av);if(U.permissions){Q=U.permissions}T();ar();an=true};this.forceInit=function(){al.init(null,true)};function T(){if(au.get(aj)!=aw){$(document.body).addClass("loggedout");V.find(".button-loading").removeClass("active");V.find(".button-real").addClass("active");ai&&ai.show();ax.show();var aA=document.body.scrollTop||document.documentElement.scrollTop;var az=window.innerHeight/2+aA;ax.css({top:az+"px","margin-top":-(ax.height()/2+20)+"px"});ax.bind("touchstart",function(aB){aB.preventDefault()});if(Spinner){var ay={lines:8,length:2,width:3,radius:3,color:"#fff",speed:1,trail:60,shadow:false};loading=new Spinner(ay).spin(am.find(".icon")[0])}}}function ar(){var aA=$('<div id="fb-root"></div>');ak.append(aA);var aB=document,az,aC="facebook-jssdk",ay=aB.getElementsByTagName("script")[0];az=aB.createElement("script");az.id=aC;az.async=true;az.src="//connect.facebook.net/en_US/all.js";ay.parentNode.insertBefore(az,ay)}this.onFBInit=function(){FB.init({appId:af,channelUrl:at,status:true,cookie:true,xfbml:false});FB.getLoginStatus(function(ay){ac=ay.status==="connected";if(ay.status==="connected"){O(Q,ag,function(){al.login()})}else{al.showLogin()}})};window.fbAsyncInit=al.onFBInit;this.showLogin=function(){au.set(aj,ae);T();FB.Event.subscribe("auth.statusChange",function(ay){ac=ay.status==="connected";if(ac){ag()}else{ab()}})};this.hideLogin=function(){ax.hide();ai&&ai.hide();$(document.body).removeClass("loggedout");ac=true};this.login=function(){if(!an){al.forceInit();return}if(!au.get(aj)){au.set(aj,ae)}FB.login(function(ay){if(ay.status!=="connected"){ab()}else{ag()}},(Q?{scope:Q}:null))};this.logout=function(){};this.loggedIn=function(){return ac};this.action=function(ay){var aA=ay.fb.namespace||Z;var aB=null;var az=new ao();az.init(ay.fb.shortname);for(key in ay.fb.data){ay.fb.data[key]=az.addToLink(ay.fb.data[key])}FB.api("/me/"+aA+":"+ay.fb.action,"post",ay.fb.data,function(aC){az.handleAPICallback(ay,aC)})};this.share=function(ay){if(!ay||!ay.fb||!ay.app){return}if(!an){al.onLogin(function(){al.share(ay)});al.forceInit();return}var aA={method:"feed",link:ay.fb.link||"http://"+window.location.hostname,message:ay.fb.message||null,picture:ay.fb.picture||null,name:ay.fb.name||null,description:ay.fb.description||null,caption:ay.fb.caption||null};var az=new ao();az.init(ay.fb.shortname);aA.link=az.addToLink(aA.link);FB.ui(aA,function(aB){az.handleAPICallback(ay,aB)})};function ao(){var aA="",ay=null,aB="flyapps.me";this.init=function(aD){var aC=window.location.host.split(".");if(!aD){aD=aC[0]}aC.splice(0,1);aB=aC.join(".");aA=aD+"-"+(new Date()).getTime()};this.addToLink=function(aC){if(aC){if(aC.indexOf("?")!==-1){aC+="&token="+aA}else{aC+="?token="+aA}return aC}return false};this.handleAPICallback=function(aF,aE){if(!aE||aE.error){aF.fb.onError&&aF.fb.onError()}else{aF.app.onSuccessInit&&aF.app.onSuccessInit();var aD=null;var aC=null;if(aE){aC=aE.post_id}var aG={app:{id:aF.app.app_id,name:aF.app.app_name,link:aF.app.app_link||aF.fb.link,image:aF.app.app_image||null},fb:aF.fb,post:{profile_id:null,profile_name:null,profile_image:null,message:null,created:null}};l.FB.getUser(function(aH){aF.app.getUser&&aF.app.getUser(aH);aG.post.profile_id=aH.id;aG.post.profile_name=aH.name;aG.post.profile_image="http://graph.facebook.com/"+aH.id+"/picture";if(aC){az(aG);l.FB.getPostData(aC,function(aI){aF.app.onGetPostData&&aF.app.onGetPostData(aI);if(aI.picture){aG.app.image=decodeURIComponent(aI.picture.match(/&src=(.+)/)[1])}if(aI.message){aG.post.message=aI.message}if(aI.created){aG.post.created=aI.created}az(aG,function(){aF.fb.onSuccess&&aF.fb.onSuccess()})},function(){aF.fb.onSuccess&&aF.fb.onSuccess()})}else{az(aG,function(){aF.fb.onSuccess&&aF.fb.onSuccess()})}})}};function az(aC,aD){ay&&ay.abort();ay=$.getJSON("http://developer."+aB+"/facebook/updateToken.php?token="+aA+"&data="+encodeURIComponent(JSON.stringify(aC))+"&callback=?",function(aE){aD&&aD(aE)})}}this.getUser=function(ay,az){if(aq){ad(aq,ay,az)}else{FB.api("/me",function(aA){ad(aA,ay,az)})}};function ad(az,ay,aA){aq=az;if(!az||az.error){aA&&aA(az)}else{ay&&ay(az)}}this.getPostData=function(az,ay,aA){if(!az){return null}FB.api(az,"get",function(aB){if(!aB||aB.error){aA&&aA(aB)}else{ay&&ay(aB)}});return true};function S(){return au.get(aj)}function O(aA,ay,az){if(!aA){ay&&ay();return}var aC="select "+aA+" from permissions where uid=me()";var aB=FB.Data.query(aC);aB.wait(function(aD){var aF=true;var aE=new Array();aE=aA.split(",");$.each(aE,function(aG,aH){if(aD[0][aH]!=1){aF=false;return}});if(aF){ay&&ay()}else{az&&az()}})}this.onLogin=function(ay){ap.push(ay)};function ag(){au.set(aj,aw);ak.addClass(X);al.hideLogin();for(var ay=0;ay<ap.length;ay++){ap[ay]()}}function ab(){}function Y(){var ay='#doat-fb-login {position: absolute;left: 50%;width: 260px;margin: 0 0 0 -150px;background: rgba(0, 0, 0, .8);padding: 20px;border-radius: 10px;color: #fff;text-shadow: 0 1px 3px rgba(0, 0, 0, .3);text-align: center;font-size: 18px;z-index: 600;display: none;}#doat-fb-login .button {position: relative;font-weight: bold;margin-top: 20px;height: 44px;line-height: 44px;font-size: 17px;border: 1px solid #2e4687;text-shadow: 0 1px 0 rgba(0, 0, 0, .5);cursor: pointer;-moz-box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;-webkit-box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;-ms-box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;box-shadow: 0 1px 0 0 #8d9fc8 inset, 0 2px 0 0 #6880b6 inset;background: #485f9a;background: -moz-linear-gradient(center top, #5670ad 0, #3c4e88 100%);background: -webkit-gradient(linear, left top, left bottom, color-stop(0, #5670ad), color-stop(1, #3c4e88));border-radius: 5px;}#doat-fb-login .button .c {position: absolute;top: 0;bottom: 0;left: 0;right: 0;padding-left: 45px;opacity: 0;pointer-events: none;-moz-transition: all .3s linear;-webkit-transition: all .3s linear;-ms-transition: all .3s linear;transition: all .3s linear;}#doat-fb-login .button .c.active {opacity: 1;pointer-events: auto;}#doat-fb-login .button .button-loading .text {opacity: .5;}#doat-fb-login .button .icon {position: absolute;top: 0;bottom: 0;left: 0;width: 45px;border-right: 1px solid #2e4687;-moz-box-shadow: -1px 1px 0 0 #8d9fc8 inset;-webkit-box-shadow: -1px 1px 0 0 #8d9fc8 inset;-ms-box-shadow: -1px 1px 0 0 #8d9fc8 inset;box-shadow: -1px 1px 0 0 #8d9fc8 inset;border-radius: 5px 0 0 5px;}#doat-fb-login .button .button-real .icon:before {content: "";position: absolute;top: 50%;left: 50%;width: 32px;height: 32px;margin: -15px 0 0 -16px;background-image:url(http://cdn0.flyapps.me/developer/facebook/fb.png);background-size: 31px 32px}#doat-fb-login-cancel {color: #ccc;cursor: pointer;font-size: 15px;margin-top: 20px;display: none;}#doat-fb-login-cancel span {text-decoration: underline;}#doat-fb-overlay {position: absolute;height: 1000px;top: 0;left: 0;right: 0;bottom: 0;background: rgba(0,0,0,.5);z-index: 500;display: none;}';o("style",aa,{innerHTML:ay})}function R(){var ay=document.createElement("div");ay.id="doat-fb-login";ay.innerHTML='<div class="content"></div><div class="button"><div class="c button-loading"><span class="icon"></span><span class="text"></span></div><div class="c button-real"><span class="icon"></span><span class="text"></span></div></div><div class="cancel" id="doat-fb-login-cancel"></div>';document.body.appendChild(ay)}var au=new function(){this.get=function(az){var aA=null;if("localStorage" in window){try{aA=localStorage[az]}catch(ay){}}return aA};this.set=function(az,aA){if(!"localStorage" in window){return false}try{localStorage[az]=aA}catch(ay){return false}return true}}};var G=function(){var T=this,ab="Viewport",ad,U,Y={},Z={portrait:560,landscape:340},ac={portrait:416,landscape:250},ae,X="viewport-height",W,Q=86400000,V=false;this.STORAGE="storage";this.ENV="env";this.DETECTED="detected";this.init=function(af){ad=af.$container;logger=af.logger;ae=af.Storage;W=O()||{}};this.setHeight=function(ai){if(!l.config("setHeight")){return}var ah=R();!ai&&(ai={});if(Y[ah]){T.hideAddressBar();setTimeout(T.hideAddressBar,1000);ai.callback&&ai.callback();return false}if(W[ah]){aa(W[ah],ah,T.STORAGE,ai.callback)}else{var ag=TouchyJS.Env.getScreen().height;if(ag){aa(ag,ah,T.ENV,ai.callback);T.hideAddressBar();S(ah,ag)}else{var af=$('<div id="viewportTestElement" style="height: 2000px; width: 100%;">&#160;</div>');ad.append(af);T.hideAddressBar();setTimeout(function(){P(ah,ai.callback)},500)}}return true};this.getHeight=function(){return{value:ad.height(),source:U}};this.hideAddressBar=function(){if(window.TouchyJS.config("hideAddressBar")){window.setTimeout(function(){window.scrollTo(0,1)},0)}};this.shouldRecalculate=function(af){af&&(V=af);return V};this.getTestHeight=function(af){return Z[af]};function R(){return l.Env.getInfo().orientation.name}function P(ag,af){var ah=("scrollTop" in window)?window.scrollTop:window.scrollY;if(window.innerHeight>=ac[ag]&&ah){aa(window.innerHeight,ag,T.DETECTED,af);S(ag,window.innerHeight);T.hideAddressBar()}else{setTimeout(function(){P(ag,af)},200)}}function S(af,ag){}function O(){return undefined}function aa(ag,ai,al,af){var aj=document.createElement("style");aj.id="viewport-"+ai;var ah="";ah+=".orientation-"+ai+"{min-height:"+ag+"px; position: relative; top: auto; left:auto; bottom: auto; right: auto}";ah+=".orientation-"+ai+" #viewportTestElement {display: none}";aj.innerHTML=ah;document.getElementsByTagName("head")[0].appendChild(aj);Y[ai]=true;U=al;var ak={};ak[ai]={height:ag};l.Env.setScreen(ak);af&&af(al)}};var m=function(Q){var P=this,S={resizerUrl:"http://doatresizer.appspot.com/?",url:"",width:0,height:0,encoding:"jpeg",padding:1,color:"#fff",quality:"80",ignoreRetina:false},O=["url","width","height","encoding","padding","color","quality"];R();function R(){$.extend(S,Q)}this.getSource=function(T){var V={};$.extend(V,S,T);if(!V.url){alert("Must provide an image URL.");return}if(!V.width||!V.height){alert("Either image width or image height are not set.");return}if(l.Env.isRetina()&&!V.ignoreRetina){V.width=V.width*2;V.height=V.height*2}var Y=V.resizerUrl,X;for(var W=0;W<O.length;W++){X=O[W];if(X==="url"&&(typeof V[X]==="object")){for(var U=0;U<V[X].length;U++){Y+=(X+"="+V[X][U]+"&")}}else{Y+=(X+"="+V[X]+"&")}}return Y};this.getImageTag=function(T){var U={};$.extend(U,S,T);var W=P.getSource(U);var V="";if(l.Env.isRetina()){V='style="width: '+(U.width/2)+"px; height: "+(U.height/2)+'px;"'}return'<img src="'+W+'" '+V+">"}};function J(){var V=this,S,P="default",Q;this.EXCEPTIONS={NOT_ENOUGH_ARGUMENTS:new Error("Missing arguments")};this.init=function(W){!W.env&&(W.env=l&&l.Env&&l.Env.getInfo().os.name);if(!W||!W.urls||!W.env){throw V.EXCEPTIONS.NOT_ENOUGH_ARGUMENTS;return false}S=R(W);if(S.matched){Q=V.getMultipleLinkHandler(S);W.onMatch&&W.onMatch.call(V,S)}else{W.onNoMatch&&W.onNoMatch.call(V,S)}return S};this.open=function(){Q.open(S.urls)};this.getMultipleLinkHandler=function(W){if(W.hasHost){return new U(W)}else{!W.title&&(W.title="Launching "+document.title+" app");!W.closeButton&&(W.closeButton={text:"Cancel"});!W.group&&(W.group="group");return new O(W)}};function R(ad){var ae=ad.env,ac,W={element:ad.element,group:ad.group};for(var Z in ad.urls){var Y=Z.split(",");for(var ab=0,X=Y.length;ab<X;ab++){var aa=Y[ab].trim();if(aa===ae){ac=Z;break}}if(ac){break}}!ac&&ad.urls[P]&&(ac=P);if(ac){W.urls=ad.urls[ac];W.matched=ac}return W}function O(ad){var Z=false,Y,ag,af=ad.title,ah=ad.group,aa,W="#doatOpenWin ul { list-style-type: none; }#doatOpenWin ul li { padding: 6px 0; }#doatOpenWin ul li a { color: #fff; text-decoration: none; font-size: 13px; }#alertView{text-align: center;width: 250px;position: absolute;left: 50%;margin-left: -135px;border: 2px solid #fff;border-radius: 20px;-moz-border-radius: 20px;-webkit-border-radius: 20px;background:  rgba(59, 80, 119, 0.9) ;box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);-moz-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);-webkit-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);overflow:hidden;z-index:1000;padding:10px;display:none;}#alertView div#shine {position: absolute;top: -1474px;height: 1500px;width: 1500px;border-radius: 1500px;-moz-border-radius: 1500px;-webkit-border-radius: 1500px;background: rgb(255, 255, 255);left: -626px;background: -webkit-gradient(linear,left bottom,left top,color-stop(0, rgba(59,81,119, 0.5)),color-stop(0.06, rgba(255,255,255, 0.5)));background:    -moz-linear-gradient(center bottom,rgba(59,81,119, 0.5) 0%,rgba(255,255,255, 0.5) 4%);opacity: 1;filter: alpha(opacity = 05);z-index: 5;}#alertView h2, #alertView p{color: white;margin: 0;padding: 5px 10px;font: 12px / 1.1em Helvetica, Arial, sans-serif;position: relative;z-index: 20;}#alertView h2{text-align:center;font: 18px / 1.1em Helvetica, Arial, sans-serif;}#alertView div.button.white{background: -webkit-gradient(linear,left bottom,left top,color-stop(0.13, rgb(62,73,101)),color-stop(0.43, rgb(62,73,101)),color-stop(1, rgb(221,222,224)));background: -moz-linear-gradient(center bottom,rgb(62,73,101) 13%,rgb(62,73,101) 43%,rgb(221,222,224) 100%);}#alertView div.button{margin: 0 auto 6px;display: block;background: rgb(69, 90, 129);border: 1px solid rgb(59, 80, 119);border: 1px solid rgba(59, 80, 119, 1);border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;background: -webkit-gradient(linear,left bottom,left top,color-stop(0.13, rgb(62,73,101)),color-stop(0.43, rgb(62,73,101)),color-stop(1, rgb(221,222,224)));background: -moz-linear-gradient(center bottom,rgb(62,73,101) 13%,rgb(62,73,101) 43%,rgb(221,222,224) 100%);}#alertView div.button p{text-align: center;margin: 0;padding: 0;}#alertView div.button p a{color: #333333;color: rgba(255, 255, 255, 1);text-decoration: none;font: bold 14px/1.2em Helvetica, Arial, sans-serif;margin: 0;display: block;padding: 7px 0 10px;text-shadow: 0 1px 1px #5E5E5E;border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;}#alertView div.button p a:active {-moz-box-shadow: 0 0 15px white;-webkit-box-shadow: 0 0 15px white;}";var ab={urls:ad.urls?ad.urls:S.urls};function ae(aj){var ak=[],al=aj.urls;if(al.hasOwnProperty("native")){ak.push("native")}if(al.hasOwnProperty("fallback")){ak.push("fallback")}return ak}this.open=function(){if(localStorage.getItem(ah)!==null){var ak=localStorage.getItem(ah),aj=ab.urls[ak].url;location.href=aj;return}!Z&&ai();ae(ab).forEach(function(ao){var am=ab.urls[ao],al=new ac(),an=al.init(am);an.addEventListener("click",function(){ag.style.display="none"},false);if(am.remember){an.addEventListener("click",function(){localStorage.setItem(ah,ao)},false)}aa.appendChild(an)});ag.style.display="block";ag.style.top=document.body.scrollTop+40+"px"};function ai(){T("style","head",{innerHTML:W});X()}function X(){Y=T("div",document.body,{id:"doatOpenWin"});ag=T("div",Y,{id:"alertView"});T("h2",ag,{innerHTML:"<h2>"+af+"</h2>"});aa=T("div",ag,{"class":"links"});T("div",ag,{"class":"button",id:"cancelButton",innerHTML:"<p><a href='javascript://'>"+ad.closeButton.text+"</a></p>"}).addEventListener("click",function(){ag.style.display="none";ad.closeButton.callback&&ad.closeButton.callback()},false);T("div",ag,{id:"shine"})}function ac(){var ak=this,aj;this.init=function(al){var am=T("div",null,{"class":"button",innerHTML:'<p><a href="'+al.url+'" '+((al.newWindow)?'target="_blank"':"")+">"+al.label+"</a></p>"});return am}}}function U(){this.open=function(){var X="doatJS://OpenLink";S.forEach(function(Y){X+="/"+W(Y.url)});alert(X);location.href=X};function W(X){return encodeURIComponent(encodeURIComponent(X))}}var T=function(Y,ad,aa,ab,Z){(ad==="head")&&(ad=document.getElementsByTagName("head")[0]);var ac=ad?ad.ownerDocument:document,X=ac.createElement(Y);if(aa){for(var W in aa){if(W=="style"){var ae=aa[W];for(var af in ae){X.style.setProperty(af,ae[af],"")}}else{if(W==="innerHTML"){X[W]=aa[W]}else{X.setAttribute(W,aa[W])}}}}ab&&(X.onload=ab);ad&&ad.insertBefore(X,Z);return X}}function I(){var aa=this,ah,S=document.getElementsByTagName("HEAD")[0],T,W,Q,Y,X,aj,ab,O,ae,ad,ai,af,U={hideAddressBar:true,setHeight:true},P=(typeof doat_jsa!=="undefined"&&doat_jsa);U.hasHost=/\sevme\//.test(navigator.userAgent);this.init=ac;this.renderHTML=R;this.openLink=Z;this.getSearchQuery=ag;this.visible=this.focused=false;this.config=function(ak,al){if(typeof al!=="undefined"){U[ak]=al;return this}else{if(typeof ak=="undefined"){return U}else{return U[ak]}}};this.Log=new d();this.Events=new w();Q=new K();this.Env=this.Environment=Q;ae=Q.getInfo();if(Q.isMobile()){o("META",S,{name:"viewport",content:"width=device-width initial-scale=1 minimum-scale=1 maximum-scale=1 user-scalable=0"});if(ae.platform.name==="iphone"){o("META",S,{name:"apple-mobile-web-app-capable",content:"yes"})}$(document.body).css("-webkit-text-size-adjust","none")}var V=function(ao,al){if(!al){return ao}for(var ak in al){var an=new RegExp("{"+ak+"}","g");var am=al[ak];ao=ao.replace(an,am)}return ao};function ac(){ah=$(document);U=u(U,touchyjs_config);W=new E();aa.DOML=W;T=new M();T.setAuthFunc(function(an){if(an.source===top.window){return{error:"OK",attachData:{source:an.source}}}else{return{error:"Not authenticated",attachData:{origin:an.origin}}}});aa.Messenger=T;if(P){this.Log.info("Analytics enabled");b(T,Q.isMobile())}else{this.Log.info("Analytics disabled")}X=new L({searchClearButton:U.searchClearButton});aa.Searchbar=X;ab=new c();aa.Slider=ab;O=new F();aa.Swiper=O;aj=new H();aa.Scroll=aj;Y=new q(U);aa.Navigation=aa.Nav=Y;Facebook=new C();if(U.facebook){Facebook.init(U.facebook)}aa.Facebook=aa.FB=Facebook;ad=new n();aa.Extractor=ad;af=new G();aa.Viewport=af;aa.Image=new m(U.image);$(window).bind("load",function(){T.trigger(l.Events.WINDOW_LOADED)});aa.Events.ready(function(){T.trigger(l.Events.DOAT_READY)});aa.Events.focused(function(){aa.focused=true});aa.Events.blurred(function(){aa.focused=false});aa.Events.visible(function(){aa.visible=true});aa.Events.hidden(function(){aa.visible=false});T.bind("focusState",function(ao,an){aa.Events.dispatchEvent(an.type)});ah.ready(function(){T.trigger(l.Events.DOCUMENT_READY);W.parse();af.init({Storage:ai,"$container":$(document.body),logger:console});af.setHeight();af.hideAddressBar();Q.addEventListener("orientationchange",function(){af.setHeight();af.hideAddressBar()});aj.init(U);Y.init(U);z(document.body,"doml-env-"+ae.platform.name);ae.browser.name&&z(document.body,"doml-env-browser-"+ae.browser.name);if(Q.isMobile()){z(document.body,"doml-env-mobile");if(U.webkitAnimation!==false){t(ae.platform.name,ae.browser.name,aa.Log)}}$("body").bind("click",function(ap){var ao=ap.target||ap.originalTarget;var an="";if(ao){if(ao.nodeName){an=ao.nodeName}if(ao.className!=""){an+="."+ao.className}if(ao.id!=""){an+="#"+ao.id}if(ao.firstChild&&ao.firstChild.nodeType===3){var ar=ao.firstChild.nodeValue;ar=a(ar);if(ar!==""){an+=' ("'+ar+'")'}}if(ao.getAttribute("alt")&&ao.getAttribute("alt")!==""){var aq=ao.getAttribute("alt");aq=a(aq);an+=' ("'+aq+'")'}}T.trigger(l.Events.USER_ACTION,{action:"Click",element:an})});aa.Events.dispatchEvent("ready",{callOnce:true});if(U.browserHistory){Y.initHistory()}});var am=D();aa.params={query:"",experience:"",platform:""};for(var ak in am){if(ak.indexOf("do_")===0){var al=ak.substring(3,ak.length);aa.params[al]=decodeURIComponent(am[ak]).replace(/\+/g," ")}}T.trigger(l.Events.PAGE_VIEW,{action:"PageView",query:aa.params.query})}function ag(){return aa.params.query||""}function R(ap,ao){var al;if(typeof ap==="string"){al=ap}else{var aq="",ak=Q.getInfo().platform.name;for(k in ap){var an=k.split(",");for(var am=0;am<an.length;am++){if(an[am]===ak){al=ap[k];break}else{if(an[am]==="default"){aq=ap[k]}}}if(!al){al=aq}}}return V(al,ao)}function Z(aD,az){var au,ap=Q.getInfo().platform.name,ay=Q.isMobile(),an=az||{};function ak(aF){return encodeURIComponent(encodeURIComponent(aF))}function am(aF){if(typeof aF==="string"){aF={url:aF,newWindow:(!ay),label:((aF.indexOf("itms-apps://")!==-1||aF.indexOf("itms://")!==-1||aF.indexOf("http://itunes.apple.com")!==-1)?"Download from App Store":(aF.indexOf("http://")!==0&&aF.indexOf("https://")!==0)?"Launch installed app":aF)}}return aF}function at(aG){if(!aG){return aG}var aI;aG=(aG instanceof Array)?aG:[aG];if(ay){aI={url:"doatJS://OpenLink"};for(var aH=0,aF=aG.length;aH<aF;aH++){var aJ=am(aG[aH]);if(aJ.newWindow&&aJ.url.indexOf("http")===0){aJ.url="doatBrowser://"+aJ.url}aJ.url=ak(aJ.url);aI.url+="/"+aJ.url}}else{aI=am(aG[0])}return aI}for(platform in aD){var ao=platform.split(",");for(var aC=0,aB=ao.length;aC<aB;aC++){if(a(ao[aC])===ap){if(typeof aD[platform]==="string"){aD[platform]=new Array(aD[platform])}au=aD[platform];break}}if(au){break}}if(!au){au=new Array(aD["default"])}if(au.length==1){location.href=au[0];return true}var aE=document.getElementById("alertView");if(!aE){var ar="#doatOpenWin ul { list-style-type: none; }#doatOpenWin ul li { padding: 6px 0; }#doatOpenWin ul li a { color: #fff; text-decoration: none; font-size: 13px; }#alertView{text-align: center;width: 250px;position: absolute;left: 50%;margin-left: -135px;border: 2px solid #fff;border-radius: 20px;-moz-border-radius: 20px;-webkit-border-radius: 20px;background:  rgba(59, 80, 119, 0.9) ;box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);-moz-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);-webkit-box-shadow: 2px 2px 6px rgba(0, 0, 0, 0.5);overflow:hidden;z-index:1000;padding:10px;display:none;}#alertView div#shine {position: absolute;top: -1474px;height: 1500px;width: 1500px;border-radius: 1500px;-moz-border-radius: 1500px;-webkit-border-radius: 1500px;background: rgb(255, 255, 255);left: -626px;background: -webkit-gradient(linear,left bottom,left top,color-stop(0, rgba(59,81,119, 0.5)),color-stop(0.06, rgba(255,255,255, 0.5)));background:    -moz-linear-gradient(center bottom,rgba(59,81,119, 0.5) 0%,rgba(255,255,255, 0.5) 4%);opacity: 1;filter: alpha(opacity = 05);z-index: 5;}#alertView h2, #alertView p{color: white;margin: 0;padding: 5px 10px;font: 12px / 1.1em Helvetica, Arial, sans-serif;position: relative;z-index: 20;}#alertView h2{text-align:center;font: 18px / 1.1em Helvetica, Arial, sans-serif;}#alertView div.button.white{background: -webkit-gradient(linear,left bottom,left top,color-stop(0.13, rgb(62,73,101)),color-stop(0.43, rgb(62,73,101)),color-stop(1, rgb(221,222,224)));background: -moz-linear-gradient(center bottom,rgb(62,73,101) 13%,rgb(62,73,101) 43%,rgb(221,222,224) 100%);}#alertView div.button{margin: 0 auto 6px;display: block;background: rgb(69, 90, 129);border: 1px solid rgb(59, 80, 119);border: 1px solid rgba(59, 80, 119, 1);border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;background: -webkit-gradient(linear,left bottom,left top,color-stop(0.13, rgb(62,73,101)),color-stop(0.43, rgb(62,73,101)),color-stop(1, rgb(221,222,224)));background: -moz-linear-gradient(center bottom,rgb(62,73,101) 13%,rgb(62,73,101) 43%,rgb(221,222,224) 100%);}#alertView div.button p{text-align: center;margin: 0;padding: 0;}#alertView div.button p a{color: #333333;color: rgba(255, 255, 255, 1);text-decoration: none;font: bold 14px/1.2em Helvetica, Arial, sans-serif;margin: 0;display: block;padding: 7px 0 10px;text-shadow: 0 1px 1px #5E5E5E;border-radius: 5px;-moz-border-radius: 5px;-webkit-border-radius: 5px;}#alertView div.button p a:active {-moz-box-shadow: 0 0 15px white;-webkit-box-shadow: 0 0 15px white;}";o("style",S,{innerHTML:ar});var aA=document.createElement("div");aA.id="doatOpenWin";var aE=document.createElement("div");aE.id="alertView";var ax="<h2>Launching "+document.title+' app</h2><div class="links"></div>';ax+='<div class="button" id="cancelButton"><p><a href="javascript://">Cancel</a></p></div>';ax+='<div id="shine"></div>';aE.innerHTML=ax;aA.appendChild(aE);document.body.appendChild(aA);aA.querySelector("#cancelButton").addEventListener("click",function(){aE.style.display="none"},false)}if(au){var ax="";for(var aC=0;aC<au.length;aC++){var aq=am(au[aC]);ax+='<div class="button"><p><a href="'+aq.url+'" '+((aq.newWindow)?'target="_blank"':"")+">"+aq.label+"</a></p></div>"}var av=document.querySelector("#alertView .links");av.innerHTML=ax;var al=av.querySelectorAll("a");for(var aw=0;aw<al.length;aw++){al[aw].addEventListener("click",function(){aE.style.display="none"},false)}}aE.style.display="block";aE.style.top=document.body.scrollTop+40+"px"}}var l=new I();if(!(typeof doat_config!=="undefined"&&doat_config.manualInit==true)){l.init()}window.TouchyJS=window.Doat=l})();